{"mappings":"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","sources":["src/script/lang/iHistory.ts","node_modules/@swc/helpers/src/_define_property.mjs","src/script/lang/executor.ts","src/script/consts/messages.ts","src/script/lang/eResult.ts","src/script/lang/parser.ts","src/script/lang/command.ts","src/script/game/visualizer.ts","src/script/consts/id.ts","src/script/gui/main.ts","src/script/consts/const.ts","src/script/consts/class.ts","src/script/consts/caption.ts","src/script/game/pRunner.ts","src/script/lang/environment.ts","src/script/lang/variable.ts","src/script/lang/rPointer.ts","src/script/game/comparer.ts","src/script/game/task.ts","src/script/gui/logo.ts","src/script/game/taskList.ts","src/script/bundle.ts"],"sourcesContent":["export class InputHistory {\n  private _history: Record<string, string>;\n  private _histValCount: number;\n  private _currentHistElem: number;\n\n  constructor() {\n    this._history = {};\n    this._histValCount = 0;\n    this._currentHistElem = 0;\n  }\n\n  //adding history element\n  addInputHistoryElement = (el: string): void => {\n    this._history[String(this._histValCount)] = el;\n    this._histValCount++;\n  };\n\n  //get next input value\n  getNextInputValue = (): string | null => {\n    if (!this._history[String(this._currentHistElem)]) {\n      return null;\n    }\n    const rslt = eval(this._history[String(this._currentHistElem)]);\n    this._currentHistElem++;\n    return typeof rslt === \"number\" ? String(rslt) : `\"${rslt}\"`;\n  };\n\n  //reset history to start\n  resetInputHistory = (): InputHistory => {\n    this._currentHistElem = 0;\n    return this;\n  };\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import * as msg from \"../consts/messages\";\nimport { Environment } from \"./environment\";\nimport { ExpressionResult } from \"./eResult\";\nimport { Variable } from \"./variable\";\nimport { Command } from \"./command\";\nimport { Parser } from \"./parser\";\n\n//the command processor\nexport class Executor {\n  replaceOp(\n    str: string,\n    first: string,\n    second: string,\n    oddEven: number\n  ): string {\n    //all first's are changing for second, but not in quotes\n    let isEven = oddEven;\n    return str\n      .split('\"')\n      .map((el) => {\n        isEven ^= 1;\n        if (isEven) {\n          return el.split(first).join(second);\n        } else {\n          return el;\n        }\n      })\n      .join('\"');\n  }\n\n  changeHex(str: string): string {\n    //all HEX's are changing for second, but not in quotes\n    let isEven = 0;\n    return str\n      .split('\"')\n      .map((el) => {\n        isEven ^= 1;\n        if (isEven) {\n          let rslt: string[] | null = [];\n          //find all $H[LETTER] and changing it with 0x[letter]\n          while ((rslt = /&H[0-9A-F]+/.exec(el)) !== null) {\n            rslt.forEach((hex) => {\n              el = el.replace(hex, \"0x\" + hex.slice(2).toLowerCase());\n            });\n          }\n          return el;\n        } else {\n          return el;\n        }\n      })\n      .join('\"');\n  }\n\n  calcExpression(\n    expression: string,\n    logic: number,\n    print: number,\n    env: Environment\n  ): ExpressionResult {\n    expression = expression.trim();\n\n    //all Basic's hex numbers are changin for JS format and eval work properly\n    expression = this.changeHex(expression);\n    //all \"NOT\" changing for \"!\" / \"~\" and eval work properly\n    expression = this.replaceOp(expression, \"NOT\", logic ? \"!\" : \"~\", 0);\n    //all \"AND\" changing for \"&&\" / \"&\" and eval work properly\n    expression = this.replaceOp(expression, \"AND\", logic ? \"&&\" : \"&\", 0);\n    //all \"XOR\" changing for \"^\" and eval work properly\n    let logicalXorFlag = expression;\n    expression = this.replaceOp(expression, \"XOR\", \"^\", 0);\n    if (logic) {\n      logicalXorFlag === expression && (logicalXorFlag = \"\");\n    } else {\n      logicalXorFlag = \"\";\n    }\n    //all \"OR\" changing for \"||\" / \"|\" and eval work properly\n    expression = this.replaceOp(expression, \"OR\", logic ? \"||\" : \"|\", 0);\n\n    //all brackets in the strings (between the quotes) changing for #0x03, #04 codes\n    expression = this.replaceOp(expression, \"(\", \"\\x03\", 1);\n    expression = this.replaceOp(expression, \")\", \"\\x04\", 1);\n\n    let splittedExpr: string[] = expression.split(\"\");\n\n    let count = 0;\n    splittedExpr.forEach((el) => {\n      if (el === \")\" || el === \"(\") {\n        count++;\n      }\n    });\n\n    //deleting start/end brackets if need\n    count === 2 &&\n      splittedExpr[0] === \"(\" &&\n      splittedExpr[splittedExpr.length - 1] === \")\" &&\n      (splittedExpr = splittedExpr.slice(1, splittedExpr.length - 1)) &&\n      (expression = expression.slice(1, expression.length - 1));\n\n    //check that all brackets are pair\n    let isBracketsArePair = 0;\n    splittedExpr.forEach((el) => {\n      isBracketsArePair += el === \"(\" ? 1 : el === \")\" ? -1 : 0;\n    });\n    isBracketsArePair && msg.throwError(env.lp, msg.MESSAGES.EXE_BRACKETS_ERR);\n\n    let isResultString = 0;\n    //find brackets and recusrively calculate it's content\n    while (true) {\n      let length = splittedExpr.length;\n\n      //finding inner brackets\n      for (let i = 0; i < length; i++) {\n        if (splittedExpr[i] === \")\") {\n          for (let j = i; j--; ) {\n            if (splittedExpr[j] === \"(\") {\n              const tmpExpr = this.calcExpression(\n                splittedExpr\n                  .slice(j, i + 1)\n                  .join(\"\")\n                  .trim(),\n                logic,\n                print,\n                env\n              );\n              let rslt = String(tmpExpr.rslt);\n              if (tmpExpr.type === 1) {\n                isResultString = 1;\n                rslt = `'${rslt}'`;\n              }\n              splittedExpr = splittedExpr\n                .slice(0, j)\n                .concat(rslt)\n                .concat(splittedExpr.slice(i + 1, length));\n              length = splittedExpr.length;\n              i = -1;\n              break;\n            }\n          }\n        }\n      }\n      break;\n    }\n\n    expression = splittedExpr.join(\"\");\n\n    //all #0x03, #04 codes are changing for brackets\n    expression = this.replaceOp(expression, \"\\x03\", \"(\", 1);\n    expression = this.replaceOp(expression, \"\\x04\", \")\", 1);\n\n    //changing \">=\" and \"<=\" for properly changing\n    expression = this.replaceOp(expression, \">=\", \"\\x00\", 0);\n    expression = this.replaceOp(expression, \"<=\", \"\\x01\", 0);\n\n    //all \"=\" changing for \"==\" and eval work properly\n    expression = this.replaceOp(expression, \"=\", \"===\", 0);\n    //all \"<>\" changing for \"!=\" and eval work properly\n    expression = this.replaceOp(expression, \"<>\", \"!==\", 0);\n\n    //changing \"x00' AND \"x01\" for \">=\" and \"<=\"\n    expression = this.replaceOp(expression, \"\\x00\", \">=\", 0);\n    expression = this.replaceOp(expression, \"\\x01\", \"<=\", 0);\n\n    let quotesFlag = 0;\n    const exprNoQuotes = [];\n    //delete quotes content and check that all quotes are pair\n    for (let i = 0; i < splittedExpr.length; i++) {\n      splittedExpr[i] === '\"' && (quotesFlag ^= 0x01);\n      splittedExpr[i] !== '\"' &&\n        !quotesFlag &&\n        exprNoQuotes.push(splittedExpr[i]);\n    }\n    quotesFlag && msg.throwError(env.lp, msg.MESSAGES.EXE_QUOTES_ERR);\n    splittedExpr.length !== exprNoQuotes.length && (isResultString = 1);\n\n    //find array elements\n    for (let i = 1; i < exprNoQuotes.length; i++) {\n      //find all numbers after letter or $\n      if (\n        typeof exprNoQuotes[i] === \"number\" &&\n        (exprNoQuotes[i - 1].indexOf(\"$\") >= 0 ||\n          (exprNoQuotes[i - 1] >= \"A\" && exprNoQuotes[i - 1] <= \"Z\"))\n      ) {\n        exprNoQuotes[i - 1] += exprNoQuotes[i];\n        exprNoQuotes[i] = \"\";\n      }\n      //find all string numbers after letter or $\n      if (\n        /[0-9]/.test(exprNoQuotes[i]) &&\n        (exprNoQuotes[i - 1].indexOf(\"$\") >= 0 ||\n          (exprNoQuotes[i - 1] >= \"A\" && exprNoQuotes[i - 1] <= \"Z\"))\n      ) {\n        exprNoQuotes[i - 1] += exprNoQuotes[i];\n        exprNoQuotes[i] = \"\";\n      }\n    }\n\n    //find string variables\n    for (let i = 1; i < exprNoQuotes.length; i++) {\n      if (\n        typeof exprNoQuotes[i] === \"string\" &&\n        exprNoQuotes[i].indexOf(\"$\") >= 0\n      ) {\n        exprNoQuotes[i - 1] += exprNoQuotes[i];\n        exprNoQuotes[i] = \"\";\n      }\n    }\n\n    let isNumberConst = 0;\n    //find numeric constants\n    for (let i = 0; i < exprNoQuotes.length; i++) {\n      if (exprNoQuotes[i] >= \"0\" && exprNoQuotes[i] <= \"9\") {\n        isNumberConst = 1;\n      }\n    }\n\n    //check that all variables present in environment\n    const allVars = exprNoQuotes.filter((el) => {\n      if (el[0] >= \"A\" && el[0] <= \"Z\") {\n        if (env.getVariableByName(el)) {\n          return true;\n        }\n        msg.throwError(env.lp, msg.MESSAGES.EXE_NOT_DEFINED_ERR, el);\n      }\n      return false;\n    });\n\n    //check about mixed types\n    let isTypesAreMixed = 0;\n    allVars.forEach((el) => {\n      isTypesAreMixed += (env.getVariableByName(el) as Variable).type;\n    });\n    //string vars + number vars\n    isTypesAreMixed &&\n      isTypesAreMixed !== allVars.length &&\n      msg.throwError(env.lp, msg.MESSAGES.EXE_MIXED_TYPES_ERR);\n    //string vars + number expression\n    //(isTypesAreMixed) && (!isResultString) && (env.throwError(\"BAD EXPRESSION (MIXED TYPES)\"));\n    //string vars + number const\n    isNumberConst &&\n      isTypesAreMixed &&\n      msg.throwError(env.lp, msg.MESSAGES.EXE_MIXED_TYPES_ERR);\n    //string expression + number vars\n    allVars.length &&\n      isResultString &&\n      !isTypesAreMixed &&\n      msg.throwError(env.lp, msg.MESSAGES.EXE_MIXED_TYPES_ERR);\n    //in result of calculations was number and string constants\n    splittedExpr.forEach((el, idx) => {\n      typeof el === \"number\" &&\n        !/[A-Z$]/.test(splittedExpr[idx - 1]) &&\n        (isResultString || isTypesAreMixed) &&\n        msg.throwError(env.lp, msg.MESSAGES.EXE_MIXED_TYPES_ERR);\n    });\n    isNumberConst &&\n      isResultString &&\n      msg.throwError(env.lp, msg.MESSAGES.EXE_MIXED_TYPES_ERR);\n\n    //prepare preffix string for eval\n    let preffixStr = \"\";\n\n    allVars.forEach((el) => {\n      preffixStr += `var ${el}=`;\n      preffixStr += (env.getVariableByName(el) as Variable).type\n        ? `\"${(env.getVariableByName(el) as Variable).value}\";`\n        : `${(env.getVariableByName(el) as Variable).value};`;\n    });\n    let exprRslt: string | number = 0;\n    try {\n      eval(`${preffixStr} exprRslt=${expression}`);\n    } catch (e) {\n      msg.throwError(env.lp, msg.MESSAGES.EXE_BAD_EXPR_ERR);\n    }\n\n    (String(exprRslt).indexOf(\"undefined\") >= 0 ||\n      String(exprRslt).indexOf(\"NaN\") >= 0) &&\n      msg.throwError(env.lp, msg.MESSAGES.EXE_BAD_EXPR_ERR);\n    String(exprRslt) === \"Infinity\" &&\n      msg.throwError(env.lp, msg.MESSAGES.EXE_ZERO_DIV_ERR);\n\n    let rsltType = typeof exprRslt === \"string\" ? 1 : 0;\n    if (typeof exprRslt === \"boolean\" || logicalXorFlag) {\n      rsltType = 2;\n      logicalXorFlag && (exprRslt = Boolean(exprRslt) as unknown as number);\n    }\n\n    //convert all numeric results to byte\n    if (!rsltType) {\n      exprRslt >>= 0;\n      //exprRslt &= 0xFF;\n    } else {\n      //if not expression for printing then result checking for fit to string variable\n      !print &&\n        rsltType === 1 &&\n        String(exprRslt).length > 8 &&\n        (exprRslt = String(exprRslt).substring(0, 8));\n    }\n\n    return new ExpressionResult(exprRslt, rsltType);\n  }\n\n  //execute one command\n  execute(cmd: Command | null, env: Environment): number {\n    //empty strings / comments\n    if (!cmd) {\n      //if no one next IP then it's the end of program\n      if (!env.setNextLP()) {\n        throw new Error(msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG));\n      }\n      return 0x00;\n    }\n\n    const cmdName = cmd.name;\n\n    //end of program\n    if (cmdName === \"END\") {\n      throw new Error(msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG));\n    }\n\n    //adding new variable (number or string)\n    if (cmdName === \"LET\") {\n      const operand = (cmd.operand as string).trim();\n      const exprResult = cmd.expression\n        ? this.calcExpression(cmd.expression as string, 0, 0, env)\n        : null;\n      let initValue;\n\n      if (operand.indexOf(\"$\") >= 0) {\n        operand.length !== 2 &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_STR_NAME_ERR);\n        exprResult &&\n          exprResult.type !== 1 &&\n          msg.throwError(env.lp, msg.MESSAGES.PARST_LET_STR_RSLT_ERR);\n        initValue = \"\";\n      } else {\n        operand.length !== 1 &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_NUM_NAME_ERR);\n        exprResult &&\n          exprResult.type !== 0 &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_NUM_RSLT_ERR);\n        initValue = 0;\n      }\n      env.createVar(operand, exprResult ? exprResult.rslt : initValue);\n      return 0x01;\n    }\n    //adding new array\n    if (cmdName === \"DIM\") {\n      const operand = (cmd.operand as string).trim().split(\"(\")[0];\n      let initValue;\n\n      if (operand.indexOf(\"$\") >= 0) {\n        operand.length !== 2 &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_DIM_STR_NAME_ERR);\n        initValue = \"\";\n      } else {\n        operand.length !== 1 &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_DIM_NUM_NAME_ERR);\n        initValue = 0;\n      }\n\n      const exprResult = this.calcExpression(\n        (cmd.operand as string).trim().slice(operand.length),\n        0,\n        0,\n        env\n      );\n      exprResult.type !== 0 &&\n        msg.throwError(env.lp, msg.MESSAGES.PARSE_DIM_NUM_RSLT_ERR);\n\n      const arraySize = exprResult.rslt;\n      arraySize > 8 && msg.throwError(env.lp, msg.MESSAGES.PARSE_DIM_SIZE_ERR);\n      !arraySize &&\n        msg.throwError(env.lp, msg.MESSAGES.PARSE_DIM_ZERO_SIZE_ERR);\n\n      for (let i = 0; i < arraySize; i++) {\n        env.createVar(operand + String(i), initValue);\n      }\n      return 0x01;\n    }\n    //changing variable value\n    if (cmdName === \"=\") {\n      let operand = (cmd.operand as string).trim();\n      const exprResult = this.calcExpression(\n        cmd.expression as string,\n        0,\n        0,\n        env\n      );\n\n      //array element\n      if (/[A-Z]\\$?\\(.+\\)/.test(operand)) {\n        const idxStart = operand.indexOf(\"(\");\n        const idxEnd = operand.lastIndexOf(\")\");\n        const arrIdxExprResult = this.calcExpression(\n          operand.slice(idxStart, idxEnd + 1).trim(),\n          0,\n          0,\n          env\n        );\n        arrIdxExprResult.type &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_IDX_ERR);\n        operand = `${operand.slice(0, idxStart)}(${arrIdxExprResult.rslt})`;\n\n        if (operand.indexOf(\"$\") >= 0) {\n          operand.length !== 5 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_STR_NAME_ERR);\n          exprResult &&\n            exprResult.type !== 1 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_STR_RSLT_ERR);\n        } else {\n          operand.length !== 4 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_NUM_NAME_ERR);\n          exprResult &&\n            exprResult.type &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_NUM_RSLT_ERR);\n        }\n        operand = operand.replace(\"(\", \"\");\n        operand = operand.replace(\")\", \"\");\n      } else {\n        if (operand.indexOf(\"$\") >= 0) {\n          operand.length !== 2 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_STR_NAME_ERR);\n          exprResult &&\n            exprResult.type !== 1 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARST_LET_STR_RSLT_ERR);\n        } else {\n          operand.length !== 1 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_NUM_NAME_ERR);\n          exprResult &&\n            exprResult.type &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_NUM_RSLT_ERR);\n        }\n      }\n\n      env.getVariableByName(operand)\n        ? ((env.getVariableByName(operand) as Variable).value = exprResult.rslt)\n        : msg.throwError(\n            env.lp,\n            msg.MESSAGES.PARSE_ASSIGN_NOT_DEFINED_ERR,\n            operand\n          );\n      return 0x01;\n    }\n    //if..then..else\n    if (cmdName === \"IF\") {\n      const operand = (cmd.operand as string).trim();\n      const exprResult = this.calcExpression(\n        cmd.expression as string,\n        1,\n        0,\n        env\n      );\n      exprResult.type !== 2 &&\n        msg.throwError(env.lp, msg.MESSAGES.PARSE_IF_NOT_BOOL_ERR);\n\n      const ifElse = operand.split(\"ELSE\");\n      ifElse.length > 2 &&\n        msg.throwError(env.lp, msg.MESSAGES.PARSE_IF_MANY_ELSE_ERR);\n\n      return new Executor().execute(\n        new Parser().parse(\n          `${env.lp} ` +\n            (exprResult.rslt ? ifElse[0].trim() : (ifElse[1] || \"\").trim()),\n          env\n        ),\n        env\n      );\n    }\n    //goto\n    if (cmdName === \"GOTO\") {\n      const exprResult = this.calcExpression(\n        cmd.expression as string,\n        0,\n        0,\n        env\n      );\n      exprResult &&\n        exprResult.type &&\n        msg.throwError(env.lp, msg.MESSAGES.PARSE_GOTO_NOT_NUM_ERR);\n      env.setLp(exprResult.rslt as string) === null &&\n        msg.throwError(\n          env.lp,\n          msg.MESSAGES.PARSE_GOTO_LINE_UNKNOWN_ERR,\n          exprResult.rslt\n        );\n      return 0x00;\n    }\n    //gosub\n    if (cmdName === \"GOSUB\") {\n      const exprResult = this.calcExpression(\n        cmd.expression as string,\n        0,\n        0,\n        env\n      );\n      const rp = env.lp;\n      exprResult &&\n        exprResult.type &&\n        msg.throwError(env.lp, msg.MESSAGES.PARSE_GOSUB_NOT_NUM_ERR);\n      env.setLp(exprResult.rslt as string) === null &&\n        msg.throwError(\n          env.lp,\n          msg.MESSAGES.PARSE_GOSUB_LINE_UNKNOWN_ERR,\n          exprResult.rslt\n        );\n      env.createRP(rp);\n      return 0x00;\n    }\n    //return\n    if (cmdName === \"RETURN\") {\n      //finding and deleting last return pointer\n      const rp = env.deleteRP();\n      rp === null && msg.throwError(env.lp, msg.MESSAGES.PARSE_RETURN_ERR);\n      env.setLp(rp as string);\n      return 0x01;\n    }\n    //print(ln)\n    if (cmdName === \"PRINT\" || cmdName === \"PRINTLN\") {\n      let exprResult: ExpressionResult | string = \"\";\n      if (cmd.expression) {\n        exprResult = this.calcExpression(cmd.expression, 0, 1, env);\n        exprResult.type > 1 &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_PRINT_ERR);\n\n        exprResult = String(\n          /*(exprResult.type) ? */ exprResult.rslt /* : ((((exprResult.rslt as number) & 0xFF) ^ 0x80) - 0x80)*/\n        );\n      }\n      //if println then adding \"\\n\"\n      env.screenPrint(exprResult, cmdName[cmdName.length - 1] === \"N\" ? 1 : 0);\n      return 0x01;\n    }\n    //input\n    if (cmdName === \"INPUT\") {\n      let operand = (cmd.operand as string).trim();\n      const histVal = env.inputHistory.getNextInputValue();\n      histVal === null &&\n        msg.throwError(env.lp, msg.MESSAGES.PARSE_INPUT_EMPTY_ERR);\n      const inputResult = this.calcExpression(histVal as string, 0, 1, env);\n      const exprResult = new ExpressionResult(\n        inputResult && inputResult.type === 1\n          ? (inputResult.rslt as string).substring(0, 8)\n          : inputResult.rslt,\n        inputResult.type\n      );\n\n      //ñäåëàòü âû÷èñëåíèå âûðàæåíèÿ,êîòîðîå ÿâëÿåòñÿ èíäåêñîì ýëåìåíòà ìàññèâà !!!!\n      //äîáàâèòü òî æå ñàìîå â ïðèñâàèâàíèå ïåðåìåííîé!\n\n      //array element\n      if (/[A-Z]\\$?\\(.+\\)/.test(operand)) {\n        const idxStart = operand.indexOf(\"(\");\n        const idxEnd = operand.lastIndexOf(\")\");\n        const arrIdxExprResult = this.calcExpression(\n          operand.slice(idxStart, idxEnd + 1).trim(),\n          0,\n          0,\n          env\n        );\n        arrIdxExprResult.type &&\n          msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_IDX_ERR);\n        operand = `${operand.slice(0, idxStart)}(${arrIdxExprResult.rslt})`;\n\n        if (operand.indexOf(\"$\") >= 0) {\n          operand.length !== 5 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_STR_NAME_ERR);\n          exprResult &&\n            exprResult.type !== 1 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_STR_RSLT_ERR);\n        } else {\n          operand.length !== 4 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_NUM_NAME_ERR);\n          exprResult &&\n            exprResult.type &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_ASSIGN_NUM_RSLT_ERR);\n        }\n        operand = operand.replace(\"(\", \"\");\n        operand = operand.replace(\")\", \"\");\n      } else {\n        if (operand.indexOf(\"$\") >= 0) {\n          operand.length !== 2 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_STR_NAME_ERR);\n          exprResult &&\n            exprResult.type !== 1 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARST_LET_STR_RSLT_ERR);\n        } else {\n          operand.length !== 1 &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_NUM_NAME_ERR);\n          exprResult &&\n            exprResult.type &&\n            msg.throwError(env.lp, msg.MESSAGES.PARSE_LET_NUM_RSLT_ERR);\n        }\n      }\n\n      env.getVariableByName(operand)\n        ? ((env.getVariableByName(operand) as Variable).value = exprResult.rslt)\n        : msg.throwError(\n            env.lp,\n            msg.MESSAGES.PARSE_ASSIGN_NOT_DEFINED_ERR,\n            operand\n          );\n      env.screenPrint(` \\x02 ${inputResult.rslt}`, 1);\n      return 0x01;\n    }\n    return 0x01;\n  }\n}\n","export const IDE_NA = \"N/A\";\nexport const enum MESSAGES {\n  IDE_SEMICOLON_ERR = 0,\n  IDE_WRONG_NUMBER_ERR,\n  IDE_NEGATIVE_NUMBER_ERR,\n  IDE_UNSEQUENTAL_NUMBER_ERR,\n  IDE_EMPTY_CODE_ERR,\n\n  VAR_TOO_MANY_ERR,\n  VAR_MEMORY_FULL_ERR,\n  VAR_DEFINED_ERR,\n  VAR_POINTER_ERR,\n\n  CMD_END_ERR,\n  CMD_LET_ERR,\n  CMD_DIM_ERR,\n  CMD_IF_ERR,\n  CMD_MANY_THEN_ERR,\n  CMD_VAR_OMIT_ERR,\n  CMD_VAR_MANY_ERR,\n\n  EXE_BRACKETS_ERR,\n  EXE_QUOTES_ERR,\n  EXE_NOT_DEFINED_ERR,\n  EXE_MIXED_TYPES_ERR,\n  EXE_BAD_EXPR_ERR,\n  EXE_ZERO_DIV_ERR,\n  EXE_COMPLITED_MSG,\n\n  PARSE_LET_STR_NAME_ERR,\n  PARST_LET_STR_RSLT_ERR,\n  PARSE_LET_NUM_NAME_ERR,\n  PARSE_LET_NUM_RSLT_ERR,\n  PARSE_DIM_STR_NAME_ERR,\n  PARSE_DIM_NUM_NAME_ERR,\n  PARSE_DIM_NUM_RSLT_ERR,\n  PARSE_DIM_SIZE_ERR,\n  PARSE_DIM_ZERO_SIZE_ERR,\n\n  PARSE_ASSIGN_IDX_ERR,\n  PARSE_ASSIGN_STR_NAME_ERR,\n  PARSE_ASSIGN_STR_RSLT_ERR,\n  PARSE_ASSIGN_NUM_NAME_ERR,\n  PARSE_ASSIGN_NUM_RSLT_ERR,\n  PARSE_ASSIGN_NOT_DEFINED_ERR,\n\n  PARSE_IF_NOT_BOOL_ERR,\n  PARSE_IF_MANY_ELSE_ERR,\n\n  PARSE_GOTO_NOT_NUM_ERR,\n  PARSE_GOTO_LINE_UNKNOWN_ERR,\n\n  PARSE_GOSUB_NOT_NUM_ERR,\n  PARSE_GOSUB_LINE_UNKNOWN_ERR,\n\n  PARSE_RETURN_ERR,\n  PARSE_PRINT_ERR,\n\n  PARSE_INPUT_EMPTY_ERR,\n\n  UI_CONGRATULATIONS_MSG,\n\n  EXE_LOOPING_MSG,\n\n  UI_EXEC_LINE_MSG,\n  UI_BAD_JS_CODE_START_ERR,\n  UI_BAD_JS_CODE_LINE_ERR,\n  UI_SNAPSHOT_MSG,\n\n  UI_COMPARE_INPUT_ERR,\n  UI_COMPARE_ERR,\n  UI_COMPARE_SCREEN_ERR,\n  UI_COMPARE_SCREEN_LINE_ERR,\n\n  UI_COMPARE_RAM_ERR,\n  UI_COMPARE_FINALLY_RAM_ERR,\n  UI_PICK_THE_LEVEL,\n  UI_GO_TO_THE_LEVEL,\n}\n\nexport function makeMsg(\n  ...args: [number, (string | number)?, (string | number)?]\n): string {\n  switch (args[0]) {\n    case MESSAGES.IDE_SEMICOLON_ERR:\n      return \"WRONG SEMICOLON CHARACTER AT THE END OF THE LINE\";\n    case MESSAGES.IDE_WRONG_NUMBER_ERR:\n      return \"WRONG NUMBER AT THE BEGINNING OF THE LINE\";\n    case MESSAGES.IDE_NEGATIVE_NUMBER_ERR:\n      return `ERROR ON LINE ${args[1]}: NEGATIVE LINE NUMBERS ARE NOT ALLOWED`;\n    case MESSAGES.IDE_UNSEQUENTAL_NUMBER_ERR:\n      return `LINES MUST HAVE SEQUENTAL NUMBERING (${args[1]} AFTER ${args[2]})`;\n    case MESSAGES.IDE_EMPTY_CODE_ERR:\n      return \"CODE SPACE IS EMPTY\";\n\n    case MESSAGES.VAR_TOO_MANY_ERR:\n      return \"TOO MANY VARIABLES\";\n    case MESSAGES.VAR_MEMORY_FULL_ERR:\n      return `NOT ENOUGH MEMORY FOR CREATING VARIABLE ${args[1]}`;\n    case MESSAGES.VAR_DEFINED_ERR:\n      return `VARIABLE ${args[1]} IS ALREADY DEFINED`;\n    case MESSAGES.VAR_POINTER_ERR:\n      return \"NOT ENOUGH MEMORY TO STORE THE RETURN ADDRESS POINTER ON THE STACK\";\n\n    case MESSAGES.CMD_END_ERR:\n      return \"'END' COMMAND MUST BE WITHOUT PARAMETERS\";\n    case MESSAGES.CMD_LET_ERR:\n      return \"'LET' COMMAND BAD SYNTAX (POSSIBLY TOO MANY '=')\";\n    case MESSAGES.CMD_DIM_ERR:\n      return \"INCORRECT ARRAY CREATION (WHERE IS THE CORRECT SIZE?)\";\n    case MESSAGES.CMD_IF_ERR:\n      return \"'IF..THEN..[ELSE]' BAD SYNTAX (POSSIBLY 'THEN' OMMITED)\";\n    case MESSAGES.CMD_MANY_THEN_ERR:\n      return \"'IF..THEN..[ELSE]' BAD SYNTAX (POSSIBLY MORE THAN ONE 'THEN')\";\n    case MESSAGES.CMD_VAR_OMIT_ERR:\n      return \"ASSIGNMENT OPERATOR BAD SYNTAX (POSSIBLY '=' OMMITED)\";\n    case MESSAGES.CMD_VAR_MANY_ERR:\n      return \"ASSIGNMENT OPERATOR BAD SYNTAX (POSSIBLY MORE THAN ONE '=')\";\n\n    case MESSAGES.EXE_BRACKETS_ERR:\n      return \"ALL BRACKETS IN EXPRESSION MUST BE PAIRED\";\n    case MESSAGES.EXE_QUOTES_ERR:\n      return \"NOT ALL QUOTES ARE PAIRED\";\n    case MESSAGES.EXE_NOT_DEFINED_ERR:\n      return `BAD EXPRESSION (VARIABLE ${args[1]} NOT DEFINED)`;\n    case MESSAGES.EXE_MIXED_TYPES_ERR:\n      return \"BAD EXPRESSION (MIXED TYPES)\";\n    case MESSAGES.EXE_BAD_EXPR_ERR:\n      return \"BAD EXPRESSION\";\n    case MESSAGES.EXE_ZERO_DIV_ERR:\n      return \"DIVISION BY ZERO\";\n\n    case MESSAGES.EXE_COMPLITED_MSG:\n      return \"EXECUTION COMPLITED SUCCESSFULLY!\";\n    case MESSAGES.EXE_LOOPING_MSG:\n      return `IT'S MORE THAN ${args[1]} STEPS ARE DOING. POSSIBLE LOOPING, FORCIBLY STOPPED.`;\n\n    case MESSAGES.PARSE_LET_STR_NAME_ERR:\n      return \"STRING VARIABLE NAME MUST BE ONE CAPITAL LETTER WITH '$'\";\n    case MESSAGES.PARST_LET_STR_RSLT_ERR:\n      return \"INCOMPATIBLE EXPRESSION RESULT FOR STRING VARIABLE (STRING REQUIRED)\";\n\n    case MESSAGES.PARSE_LET_NUM_NAME_ERR:\n      return \"NUMERIC VARIABLE NAME MUST BE ONE CAPITAL LETTER\";\n    case MESSAGES.PARSE_LET_NUM_RSLT_ERR:\n      return \"INCOMPATIBLE EXPRESSION RESULT FOR NUMERIC VARIABLE (NUMBER REQUIRED)\";\n\n    case MESSAGES.PARSE_DIM_STR_NAME_ERR:\n      return \"STRING ARRAY NAME MUST BE ONE CAPITAL LETTER WITH '$'\";\n    case MESSAGES.PARSE_DIM_NUM_NAME_ERR:\n      return \"NUMERIC ARRAY NAME MUST BE ONE CAPITAL LETTER\";\n    case MESSAGES.PARSE_DIM_NUM_RSLT_ERR:\n      return \"INCOMPATIBLE EXPRESSION RESULT FOR ARRAY SIZE (NUMBER REQUIRED)\";\n    case MESSAGES.PARSE_DIM_SIZE_ERR:\n      return \"INCOMPATIBLE ARRAY SIZE (MUST BE POSITIVE NUMBER AND MAXIMUM 8 ELEMENTS)\";\n    case MESSAGES.PARSE_DIM_ZERO_SIZE_ERR:\n      return \"INCOMPATIBLE ARRAY SIZE (ZERO VALUE)\";\n\n    case MESSAGES.PARSE_ASSIGN_IDX_ERR:\n      return \"INCOMPATIBLE ARRAY INDEX (NUMBER REQUIRED)\";\n    case MESSAGES.PARSE_ASSIGN_STR_NAME_ERR:\n      return \"STRING ARRAY ELEMENT NAME MUST BE ONE CAPITAL LETTER WITH '$' AND ARRAY INDEX IN BRACKETS\";\n    case MESSAGES.PARSE_ASSIGN_STR_RSLT_ERR:\n      return \"INCOMPATIBLE EXPRESSION RESULT (STRING REQUIRED)\";\n    case MESSAGES.PARSE_ASSIGN_NUM_NAME_ERR:\n      return \"NUMERIC ARRAY ELEMENT NAME MUST BE ONE CAPITAL LETTER WITH ARRAY INDEX IN BRACKETS\";\n    case MESSAGES.PARSE_ASSIGN_NUM_RSLT_ERR:\n      return \"INCOMPATIBLE EXPRESSION RESULT (NUMBER REQUIRED)\";\n    case MESSAGES.PARSE_ASSIGN_NOT_DEFINED_ERR:\n      return `VARIABLE ${args[1]} MUST BE DEFINED FIRST`;\n\n    case MESSAGES.PARSE_IF_NOT_BOOL_ERR:\n      return \"EXPRESSION RESULT MUST BE OF BOOLEAN TYPE\";\n    case MESSAGES.PARSE_IF_MANY_ELSE_ERR:\n      return \"TOO MANY 'ELSE' (SHOULD BE ONE OR ZERO)\";\n\n    case MESSAGES.PARSE_GOTO_NOT_NUM_ERR:\n      return \"INCOMPATIBLE GOTO DESTINATION (NUMBER REQUIRED)\";\n    case MESSAGES.PARSE_GOTO_LINE_UNKNOWN_ERR:\n      return `INCOMPATIBLE GOTO DESTINATION (UNKNOWN LINE NUMBER ${args[1]})`;\n\n    case MESSAGES.PARSE_GOSUB_NOT_NUM_ERR:\n      return \"INCOMPATIBLE GOSUB DESTINATION (NUMBER REQUIRED)\";\n    case MESSAGES.PARSE_GOSUB_LINE_UNKNOWN_ERR:\n      return `INCOMPATIBLE GOSUB DESTINATION (UNKNOWN LINE NUMBER ${args[1]})`;\n\n    case MESSAGES.PARSE_RETURN_ERR:\n      return \"NO MORE RETURN ADRESSES ON THE STACK\";\n\n    case MESSAGES.PARSE_PRINT_ERR:\n      return \"INCOMPATIBLE EXPRESSION RESULT FOR PRINTING (POSSIBLY BOOLEAN)\";\n\n    case MESSAGES.PARSE_INPUT_EMPTY_ERR:\n      return \"INPUT VALUES LIST IS EMPTY NOW\";\n\n    case MESSAGES.UI_CONGRATULATIONS_MSG:\n      return \"CONGRATULATION! COMPARED PROGRAMS ARE IDENTICAL\";\n    case MESSAGES.UI_EXEC_LINE_MSG:\n      return `EXECUTED LINE:\\n${args[1]}`;\n    case MESSAGES.UI_BAD_JS_CODE_START_ERR:\n      return `INPUT DATA: BAD JS CODE STARTED AT LINE ${args[1]}`;\n    case MESSAGES.UI_BAD_JS_CODE_LINE_ERR:\n      return `INPUT DATA: BAD ONE-STRING JS CODE PLACED AT LINE ${args[1]}`;\n    case MESSAGES.UI_SNAPSHOT_MSG:\n      return `SNAPSHOT ${args[1]} OF ${args[2]}`;\n    case MESSAGES.UI_COMPARE_INPUT_ERR:\n      return \"ERROR IN COMPARED PROGRAM: TOO MANY INPUT COMMANDS\";\n    case MESSAGES.UI_COMPARE_ERR:\n      return `ERROR IN COMPARED PROGRAM:\\n${args[1]}`;\n    case MESSAGES.UI_COMPARE_SCREEN_ERR:\n      return \"COMPARED PROGRAMS ARE NOT IDENTICAL BY SCREEN CHECK:\\nTHE COUNT OF PRINTED LINES DOES NOT MATCH\";\n    case MESSAGES.UI_COMPARE_SCREEN_LINE_ERR:\n      return `COMPARED PROGRAMS ARE NOT IDENTICAL BY SCREEN CHECK:\\nDID NOT MATCH ON THE SCREEN LINE ${args[1]}`;\n    case MESSAGES.UI_COMPARE_RAM_ERR:\n      return \"COMPARED PROGRAMS ARE NOT IDENTICAL BY RAM CHECK\";\n    case MESSAGES.UI_COMPARE_FINALLY_RAM_ERR:\n      return \"COMPARED PROGRAMS ARE NOT IDENTICAL BY RAM CHECK:\\nFINALLY STATES OF RAM DID NOT MATCH\";\n    case MESSAGES.UI_PICK_THE_LEVEL:\n      return `LEVEL ${args[1]}: ${args[2]}`;\n    case MESSAGES.UI_GO_TO_THE_LEVEL:\n      return \"Go\";\n    default:\n      return \"UNKNOWN ERROR!\";\n  }\n}\n\nexport function throwError(\n  line: string,\n  ...args: [number, (string | number)?, (string | number)?]\n): void {\n  throw new Error(`ERROR IN LINE ${line}: ${makeMsg(...args)}`);\n}\n","export class ExpressionResult {\n  private _rslt: number | string;\n  private _type: number;\n\n  constructor(rslt: number | string, type: number) {\n    this._rslt = rslt;\n    this._type = type;\n  }\n\n  //getters\n  get rslt() {\n    return this._rslt;\n  }\n\n  get type() {\n    return this._type;\n  }\n}\n","import * as msg from \"../consts/messages\";\nimport { Environment } from \"./environment\";\nimport { Command } from \"./command\";\n\n//the parser for command line\nexport class Parser {\n  //parse one string\n  parse(str: string, env: Environment) {\n    str = str.trim();\n\n    //space-divided command\n    const splittedStr = str.split(\" \");\n\n    //switch command of reserved words\n    const command = splittedStr[1];\n\n    //comment\n    //if empty string or only line number or comment\n    if (command === \"REM\" || !str || /^[0-9]+$/.test(str)) {\n      return null;\n    }\n\n    let trimmedStr: string | string[] = splittedStr.slice(2).join(\" \").trim();\n\n    //end of program\n    if (command === \"END\") {\n      trimmedStr.length && msg.throwError(env.lp, msg.MESSAGES.CMD_END_ERR);\n      return new Command(\"END\", null, null);\n    }\n\n    //new variable\n    if (command === \"LET\") {\n      trimmedStr = trimmedStr.split(\"=\");\n      trimmedStr.length > 2 && msg.throwError(env.lp, msg.MESSAGES.CMD_LET_ERR);\n      //if expression not present use default value\n      return new Command(\"LET\", trimmedStr[0], trimmedStr[1] || null);\n    }\n\n    //new array\n    if (command === \"DIM\") {\n      !/\\(.+\\)/.test(trimmedStr) &&\n        msg.throwError(env.lp, msg.MESSAGES.CMD_DIM_ERR);\n      return new Command(\"DIM\", trimmedStr, null);\n    }\n\n    //if\n    if (command === \"IF\") {\n      trimmedStr = trimmedStr.split(\"THEN\");\n      //error: no THEN\n      trimmedStr.length === 1 &&\n        msg.throwError(env.lp, msg.MESSAGES.CMD_IF_ERR);\n      //nested IF's are prohibited\n      trimmedStr.length > 2 &&\n        msg.throwError(env.lp, msg.MESSAGES.CMD_MANY_THEN_ERR);\n      return new Command(\"IF\", trimmedStr[1], trimmedStr[0]);\n    }\n\n    //input\n    if (command === \"INPUT\") {\n      return new Command(\"INPUT\", trimmedStr, null);\n    }\n\n    //goto / gosub\n    if (command === \"GOTO\" || command === \"GOSUB\") {\n      return new Command(command, null, trimmedStr);\n    }\n\n    //return / println\n    if (command === \"RETURN\" || command === \"PRINTLN\" || command === \"PRINT\") {\n      return new Command(\n        command,\n        null,\n        trimmedStr.length !== 0 ? trimmedStr : null\n      );\n    }\n\n    //variable =\n\n    trimmedStr = (command + trimmedStr).split(\"=\");\n    trimmedStr.length === 1 &&\n      msg.throwError(env.lp, msg.MESSAGES.CMD_VAR_OMIT_ERR);\n    trimmedStr.length > 2 &&\n      msg.throwError(env.lp, msg.MESSAGES.CMD_VAR_MANY_ERR);\n    return new Command(\"=\", trimmedStr[0], trimmedStr[1]);\n  }\n}\n","export class Command {\n  //command name\n  private _name: string;\n\n  //operand (operator)\n  private _operand: string | null;\n\n  //expresion (condition)\n  private _expression: string | null;\n\n  constructor(name: string, operand: string | null, expression: string | null) {\n    this._name = name;\n    this._operand = operand;\n    this._expression = expression;\n  }\n\n  //setters\n  set name(name: string) {\n    this._name = name;\n  }\n  //getters\n  get name() {\n    return this._name;\n  }\n  set operand(operand: string | null) {\n    this._operand = operand;\n  }\n  get operand() {\n    return this._operand;\n  }\n  set expression(expr: string | null) {\n    this._expression = expr;\n  }\n  get expression() {\n    return this._expression;\n  }\n}\n","import { ReturnPointer } from \"../lang/rPointer\";\nimport { InputHistory } from \"../lang/iHistory\";\nimport { Variable } from \"../lang/variable\";\n\nexport class Visualizer {\n  private savedRamState: string | null;\n\n  constructor() {\n    this.savedRamState = null;\n  }\n\n  showNeedTextArea(textareas: string[], num: number) {\n    const textareaEls = textareas.map((el) => {\n      return document.getElementById(el);\n    });\n\n    const length = textareaEls.length;\n    for (let i = 0; i < length; i++) {\n      i !== num && ((textareaEls[i] as HTMLElement).style[\"display\"] = \"none\");\n    }\n    (textareaEls[num] as HTMLElement).style[\"display\"] = \"block\";\n  }\n\n  showRam(\n    taName: string | null,\n    vars: { [index: string]: Variable } | null,\n    stack: { [index: string]: ReturnPointer } | null,\n    ramSize: number,\n    simb: number,\n    hex: number\n  ) {\n    const cellToStr = (\n      num: number,\n      simb: number,\n      hex: number,\n      pref: string,\n      suf: string\n    ): string => {\n      pref.length === 0 && (pref = \" \");\n      suf.length === 0 && (suf = \" \");\n      let str = \"\";\n      if (simb) {\n        str = '\"' + String.fromCharCode(num) + '\"';\n      } else {\n        if (hex) {\n          suf += \" \";\n          num &= 0xff;\n          str = num.toString(16);\n          str.length < 2 && (str = \"0\" + str);\n        } else {\n          str = num.toString();\n          if (num < 0) {\n            str = str.substring(1);\n            str.length < 2 && (str = \"00\" + str);\n            str.length < 3 && (str = \"0\" + str);\n            pref = \"-\";\n          } else {\n            str.length < 2 && (str = \"00\" + str);\n            str.length < 3 && (str = \"0\" + str);\n          }\n        }\n      }\n      return pref + str + suf;\n    };\n\n    const ram = new Array<string>(ramSize);\n    for (let i = 0; i < ram.length; i++) {\n      ram[i] = cellToStr(0, 0, hex, \"\", \"\");\n    }\n\n    for (const el in vars) {\n      const val = vars[el].value;\n      if (vars[el].type) {\n        for (let i = 0; i < (val as string).length; i++) {\n          ram[vars[el].address + i] = cellToStr(\n            (val as string).charCodeAt(i),\n            simb,\n            hex,\n            \"\",\n            \"\"\n          );\n        }\n      } else {\n        ram[vars[el].address] = cellToStr(\n          Number(val as number),\n          0,\n          hex,\n          \"\",\n          \"\"\n        );\n      }\n    }\n\n    for (const el in stack) {\n      const val = Number(stack[el].value);\n      ram[stack[el].address] = cellToStr(Number(val & 0xff), 0, hex, \"\", \"\");\n      ram[stack[el].address + 1] = cellToStr(Number(val >>> 8), 0, hex, \"\", \"\");\n    }\n\n    let str = \"\";\n    for (let i = 0, j = 0; i < ram.length; i++, j++) {\n      i !== 0 && !(j & 0x0f) && (str += \"\\n\");\n      str += ram[i];\n    }\n\n    //reset saved ram state\n    !vars && !stack && (this.savedRamState = str.toLowerCase());\n\n    const textarea = taName === null ? null : document.getElementById(taName);\n    //(textarea) && (textarea.value = str.toLowerCase());\n    textarea && (textarea.innerHTML = `<pre>${str.toLowerCase()}</pre>`);\n    return str.toLowerCase();\n  }\n\n  changeShowedRamState(taName: string) {\n    const ta = document.getElementById(taName) as HTMLElement;\n    if (this.savedRamState) {\n      const newState = this.ramVisualizationModify(\n        this.savedRamState,\n        ta.textContent as string\n      );\n      this.savedRamState = ta.textContent;\n      ta.innerHTML = `<pre>${newState}</pre>`;\n    } else {\n      this.savedRamState = ta.textContent;\n    }\n  }\n\n  showScreen(\n    taName: string | null,\n    screen: { [index: string]: string } | null,\n    lastScreenLine: number,\n    rows: number\n  ) {\n    let str = \"\";\n    if (screen !== null) {\n      const start = lastScreenLine > rows ? lastScreenLine - rows : 0;\n      for (let i = start; i <= lastScreenLine; i++) {\n        str += String(i) in screen ? `${screen[String(i)]}\\n` : \"\\n\";\n      }\n    }\n\n    //change simbol for inputs\n    str = str.split(\"\\x02\").join(\"<\");\n\n    const textarea = document.getElementById(\n      taName as string\n    ) as HTMLTextAreaElement;\n    textarea && (textarea.value = str.toLowerCase());\n    return str.toLowerCase();\n  }\n\n  getInputHistory(\n    taName: string | null,\n    str: string | string[] | null\n  ): InputHistory {\n    if (taName !== null) {\n      const textarea = document.getElementById(taName) as HTMLTextAreaElement;\n      str = textarea.value;\n    }\n\n    const inputHist = new InputHistory();\n    let jsCode = \"\";\n    let jsCodeFlag = 0;\n    let jsCodeLine = 0;\n    let linesCount = 0;\n    //if (str.length)\n    {\n      str = (str as string).split(\"\\n\");\n      str.forEach((el) => {\n        linesCount++;\n        el = el.trim();\n        if (!el) {\n          return;\n        }\n\n        const esc = el\n          .split(\" \")\n          .map((el) => {\n            return el.trim();\n          })\n          .filter((el) => {\n            return el.length ? true : false;\n          })\n          .join(\"_\")\n          .trim()\n          .toUpperCase();\n\n        if (esc === \"JS_CODE_START\" && !jsCodeFlag) {\n          jsCodeFlag = 1;\n          jsCodeLine = linesCount;\n        } else {\n          if (esc === \"JS_CODE_END\" && jsCodeFlag) {\n            try {\n              if (!jsCode.trim().length) {\n                return;\n              }\n              const result = eval(jsCode) as string[];\n              result.forEach((rslt) => {\n                inputHist.addInputHistoryElement(String(eval(rslt)));\n              });\n            } catch {\n              throw new Error(\n                `INPUT DATA: BAD JS CODE STARTED AT LINE ${jsCodeLine}`\n              );\n            }\n          } else {\n            //javascript expressions\n            if (jsCodeFlag) {\n              jsCode += `${el}\\n`;\n            } else {\n              try {\n                if (!el.trim().length) {\n                  return;\n                }\n                eval(el);\n              } catch {\n                throw new Error(\n                  `INPUT DATA: BAD ONE-STRING JS CODE STARTED AT LINE ${linesCount}`\n                );\n              }\n              //strings, numbers and one-line JS commands\n              inputHist.addInputHistoryElement(`${el}`);\n            }\n          }\n        }\n      });\n    }\n    return inputHist;\n  }\n\n  ramVisualizationModify(\n    oldState: string | string[],\n    newState: string | string[]\n  ): string {\n    oldState = (oldState as string).trim().split(\"\\n\");\n    newState = (newState as string).trim().split(\"\\n\");\n\n    const stateLength = oldState.length;\n    for (let i = 0; i < stateLength; i++) {\n      let oldLine: string | string[] = oldState[i]\n        .split(' \" \" ')\n        .join(' \"\\x00\" ');\n      let newLine: string | string[] = newState[i]\n        .split(' \" \" ')\n        .join(' \"\\x00\" ');\n\n      oldLine = oldLine.split(\"   \").join(\" \");\n      newLine = newLine.split(\"   \").join(\" \");\n\n      oldLine = oldLine.split(\"  \").join(\" \");\n      newLine = newLine.split(\"  \").join(\" \");\n\n      oldLine = oldLine.split(\" \");\n      newLine = newLine.split(\" \");\n      const lineLength = oldLine.length;\n      for (let j = 0; j < lineLength; j++) {\n        let space = \" \";\n        newLine[j][0] === \"-\" && (space = \"\");\n        if (oldLine[j] !== newLine[j]) {\n          newLine[j] =\n            newLine[j].length < 3\n              ? `<span style=\"color:red\">${space}${newLine[j]}</span>  `\n              : `<span style=\"color:red\">${space}${newLine[j]} </span>`;\n        } else {\n          newLine[j] = newLine[j].trim().length\n            ? newLine[j].length < 3\n              ? `${space}${newLine[j]}  `\n              : `${space}${newLine[j]} `\n            : \"\";\n        }\n      }\n      newState[i] = newLine.join(\"\");\n      newState[i] = newState[i].split(\"\\x00\").join(\" \");\n    }\n    return newState.join(\"\\n\");\n  }\n}\n","export const MAIN_CONTAINER = \"mainContainer\";\nexport const TA_CONSOLE = \"taConsole\";\nexport const TA_CODE = \"taCode\";\nexport const TA_RAM = \"taRam\";\nexport const TA_SCREEN = \"taScreen\";\nexport const TA_INPUT = \"taInput\";\n\nexport const BTN_RUN = \"btnRun\";\nexport const BTN_STEP = \"btnStep\";\nexport const BTN_RST = \"btnReset\";\nexport const BTN_CODE = \"btnCodeRam\";\nexport const BTN_SCREEN = \"btnScreenInput\";\nexport const BTN_SHOW = \"btnShow\";\nexport const BTN_CHECK = \"btnCheck\";\nexport const BTN_NEXT = \"btnNext\";\n\nexport const OPTIONS_CONTAINER = \"options\";\n\nexport const LBL_SIMB = \"cbxSimb\";\nexport const LBL_HEX = \"cbxHex\";\nexport const LBL_HINT = \"cbxHints\";\nexport const LBL_HELP = \"cbxBtnHelpString\";\nexport const LBL_MUSIC = \"cbxPlayMusic\";\nexport const LBL_SCREEN = \"cbxScreen\";\n\nexport const IDE_CONTAINER = \"ideContainer\";\n\nexport const MENU = \"menu\";\n\nexport const MENUBAR_WARN_LBL = \"optionsWarningLbl\";\n\nexport const OPTIONS_BTN = \"optionsBtnId\";\nexport const HELP_BTN = \"helpBtnId\";\nexport const LANG_BTN = \"langBtnId\";\n\nexport const HELP_PAGE = \"helpPage\";\nexport const HELP_SCREEN = \"help\";\n\nexport const TA_TASK_RAM = \"taTaskRam\";\nexport const TA_TASK_SCREEN = \"taTaskScreen\";\n\nexport const TASK_BTNS_CONTAINER = \"taskBtnsContainer\";\n\nexport const BTN_FIRST = \"btnFirst\";\nexport const BTN_TASK_PLAY_PREV = \"btnTaskPlayPrev\";\nexport const BTN_TASK_PREV = \"btnTaskPrev\";\nexport const BTN_TASK_NEXT = \"btnTaskNext\";\nexport const BTN_TASK_PLAY_NEXT = \"btnTaskPlayNext\";\nexport const BTN_LAST = \"btnLast\";\nexport const BTN_RESTART = \"btnRestart\";\nexport const BTN_CLOSE = \"btnClose\";\n\nexport const TASK_CONTAINER = \"taskContainer\";\n\nexport const TASK_LBL = \"taskLbl\";\n\nexport const PICK_LEVEL_CONTAINER = \"pickLevelContainer\";\n\nexport const LOGO_CONTAINER = \"logoContainer\";\n","import * as msg from \"../consts/messages\";\nimport * as cnst from \"../consts/const\";\nimport * as id from \"../consts/id\";\nimport * as classes from \"../consts/class\";\nimport * as caption from \"../consts/caption\";\n\nimport { ProgramRunner } from \"../game/pRunner\";\nimport { Visualizer } from \"../game/visualizer\";\nimport { Comparer } from \"../game/comparer\";\nimport { Task } from \"../game/task\";\nimport { TaskList } from \"../game/taskList\";\n\nimport { logo } from \"./logo\";\n\nexport class GUI {\n  private _options: number[];\n  private _programRunner: ProgramRunner | null;\n  private _visualizer: Visualizer;\n  private _task: Task;\n  private _tasks: TaskList;\n  private _testProg: string;\n  private _checkHist: string;\n  private _testHist: string;\n  private _musicPlayer: HTMLAudioElement | null;\n\n  constructor(tasks: TaskList) {\n    const opt: string | null = window.localStorage.getItem(cnst.LS_OPT_ITEM);\n    this._options = opt\n      ? JSON.parse(opt)\n      : (this._options = [\n          cnst.SIMB_SHOW_INIT_VAL,\n          cnst.HEX_SHOW_INIT_VAL,\n          cnst.HINTS_SHOW_INIT_VAL,\n          cnst.HELP_SHOW_INIT_VAL,\n          cnst.PLAY_MUSIC_INIT_VAL,\n          cnst.ONE_SCREEN_INIT_VAL,\n        ]);\n\n    this._programRunner = null;\n    this._visualizer = new Visualizer();\n\n    this._tasks = tasks;\n\n    this._testProg = tasks.text[tasks.idx].testProg;\n    this._checkHist = tasks.text[tasks.idx].checkHist;\n    this._testHist = tasks.text[tasks.idx].testHist;\n    this._task = new Task(\n      this._testProg.toUpperCase(),\n      this._testHist,\n      null,\n      this._options\n    );\n    this._musicPlayer = null;\n  }\n\n  pickTheLevelScreenSetVisible() {\n    let curLevel = Number(window.localStorage.getItem(cnst.LS_LEVEL_ITEM)) || 0;\n    curLevel >= this._tasks.text.length &&\n      (curLevel = this._tasks.text.length - 1);\n\n    //if not first level\n    //if (curLevel)\n    //{\n    //\n    history.pushState(null, \"\", null);\n\n    const logoContainer = document.createElement(\"div\");\n    logoContainer.id = id.LOGO_CONTAINER;\n    logoContainer.classList.add(classes.LOGO);\n    logoContainer.innerHTML = `<pre>${logo}</pre>`;\n\n    const pickLevelContainer = document.createElement(\"div\");\n    pickLevelContainer.id = id.PICK_LEVEL_CONTAINER;\n    pickLevelContainer.className = classes.MENUBAR;\n    (document.querySelector(\"section\") as HTMLElement).appendChild(\n      pickLevelContainer\n    );\n    (document.querySelector(\"section\") as HTMLElement).appendChild(\n      logoContainer\n    );\n\n    const sel = document.createElement(\"div\");\n    sel.className = classes.PICK_LEVEL_SELECTOR;\n    sel.addEventListener(\"click\", (e) => {\n      (e.currentTarget as HTMLDivElement).style[\"height\"] = \"auto\";\n    });\n\n    for (let i: number = curLevel; i >= 0; i--) {\n      const opt = document.createElement(\"div\");\n      opt.textContent = msg.makeMsg(\n        msg.MESSAGES.UI_PICK_THE_LEVEL,\n        i,\n        this._tasks.text[i].name\n      );\n      opt.className = classes.PICK_LEVEL_SELECTOR_OPTIONS;\n      opt.setAttribute(cnst.IDX_ATTRIBUTE_NAME, String(i));\n      opt.addEventListener(\"click\", (e) => {\n        this.startGame(\n          Number(\n            (e.currentTarget as HTMLDivElement).getAttribute(\n              cnst.IDX_ATTRIBUTE_NAME\n            )\n          )\n        );\n        (document.querySelector(\"section\") as HTMLElement).removeChild(\n          document.getElementById(id.PICK_LEVEL_CONTAINER) as HTMLDivElement\n        );\n        (document.querySelector(\"section\") as HTMLElement).removeChild(\n          document.getElementById(id.LOGO_CONTAINER) as HTMLDivElement\n        );\n      });\n      sel.appendChild(opt);\n    }\n\n    const btn = document.createElement(\"button\");\n    btn.className = classes.MENU_BTN;\n    btn.innerHTML = msg.makeMsg(msg.MESSAGES.UI_GO_TO_THE_LEVEL);\n    btn.addEventListener(\"click\", (e) => {\n      this.startGame(curLevel);\n      (document.querySelector(\"section\") as HTMLElement).removeChild(\n        document.getElementById(id.PICK_LEVEL_CONTAINER) as HTMLDivElement\n      );\n      (document.querySelector(\"section\") as HTMLElement).removeChild(\n        document.getElementById(id.LOGO_CONTAINER) as HTMLDivElement\n      );\n    });\n\n    pickLevelContainer.appendChild(sel);\n    pickLevelContainer.appendChild(btn);\n    //}\n    //else\n    //{\n    //\tthis.startGame(0);\n    //}\n  }\n\n  startGame(curLevel: number, hideStoryText?: boolean) {\n    this._tasks.idx = Number(curLevel);\n\n    this._programRunner = null;\n    this._visualizer = new Visualizer();\n\n    this._testProg = this._tasks.text[this._tasks.idx].testProg;\n    this._testHist = this._tasks.text[this._tasks.idx].testHist;\n    this._checkHist = this._tasks.text[this._tasks.idx].checkHist;\n\n    this._task = new Task(\n      this._testProg.toUpperCase(),\n      this._testHist,\n      null,\n      this._options\n    );\n\n    this.createIdeGui(\n      80,\n      25,\n      18,\n      2,\n      this._tasks.text[this._tasks.idx].codeHint\n    );\n    if (!hideStoryText && this._tasks.text[this._tasks.idx].storyText) {\n      (document.getElementById(id.HELP_PAGE) as HTMLIFrameElement).src = this\n        ._tasks.text[this._tasks.idx].storyText as string;\n      (document.getElementById(id.HELP_BTN) as HTMLButtonElement).dispatchEvent(\n        new MouseEvent(\"click\")\n      );\n    }\n  }\n\n  changeAllBtnsHelpStrings(visible: number) {\n    const btnMOver = (e: MouseEvent) => {\n      const helpString = (e.currentTarget as HTMLButtonElement).getAttribute(\n        cnst.HELP_STRING_ATTRIBUTE_NAME\n      );\n      if (helpString) {\n        const lbl = document.getElementById(\n          id.MENUBAR_WARN_LBL\n        ) as HTMLLabelElement;\n        lbl.innerHTML = helpString;\n        lbl.style[\"display\"] = \"inline-block\";\n      }\n    };\n    const btnMOut = (e: MouseEvent) => {\n      if ((e.currentTarget as HTMLButtonElement).getAttribute(\"helpString\")) {\n        const lbl = document.getElementById(\n          id.MENUBAR_WARN_LBL\n        ) as HTMLLabelElement;\n        lbl.style[\"display\"] = \"none\";\n      }\n    };\n\n    const allBtns = document.querySelectorAll(\"button\");\n    const length = allBtns.length;\n    if (visible) {\n      for (let i = 0; i < length; i++) {\n        (allBtns[i] as HTMLButtonElement).onmouseover = btnMOver;\n        (allBtns[i] as HTMLButtonElement).onmouseout = btnMOut;\n      }\n    } else {\n      for (let i = 0; i < length; i++) {\n        (allBtns[i] as HTMLButtonElement).onmouseover = null;\n        (allBtns[i] as HTMLButtonElement).onmouseout = null;\n      }\n    }\n    (document.getElementById(id.MENUBAR_WARN_LBL) as HTMLLabelElement).style[\n      \"display\"\n    ] = \"none\";\n  }\n\n  createIdeGui(\n    cols: number,\n    rows1: number,\n    rows2: number,\n    rows3: number,\n    codeStr: string\n  ) {\n    let mainDiv = document.getElementById(id.MAIN_CONTAINER) as HTMLDivElement;\n    if (mainDiv) {\n      (mainDiv.parentNode as HTMLElement).removeChild(mainDiv);\n    }\n    mainDiv = document.createElement(\"div\");\n    mainDiv.id = id.MAIN_CONTAINER;\n    mainDiv.className = classes.MAIN_CONTAINER;\n    (document.querySelector(\"section\") as HTMLElement).appendChild(mainDiv);\n\n    const textareas: (HTMLTextAreaElement | HTMLDivElement)[] = [];\n    //important! taRam should not be first in array\n    const tareaIDs = [\n      id.TA_CONSOLE,\n      id.TA_CODE,\n      id.TA_RAM,\n      id.TA_SCREEN,\n      id.TA_INPUT,\n    ];\n    let length = tareaIDs.length;\n    for (let i = 0; i < length; i++) {\n      if (tareaIDs[i] === id.TA_RAM) {\n        textareas[i] = document.createElement(\"div\");\n        textareas[i].className = classes.TA_RAM;\n      } else {\n        textareas[i] = document.createElement(\"textarea\");\n        (textareas[i] as HTMLTextAreaElement).cols = cols;\n        textareas[i].className = classes.TA_MAIN;\n      }\n      textareas[i].id = tareaIDs[i];\n    }\n\n    (textareas[1] as HTMLTextAreaElement).rows = rows2;\n    (textareas[3] as HTMLTextAreaElement).rows = (\n      textareas[4] as HTMLTextAreaElement\n    ).rows = rows1;\n    (textareas[0] as HTMLTextAreaElement).rows = rows3;\n\n    (textareas[0] as HTMLTextAreaElement).readOnly = (\n      textareas[3] as HTMLTextAreaElement\n    ).readOnly = true;\n    textareas[0].tabIndex = textareas[2].tabIndex = textareas[3].tabIndex = -1;\n    textareas[0].style[\"display\"] =\n      textareas[1].style[\"display\"] =\n      textareas[3].style[\"display\"] =\n        \"block\";\n\n    textareas[4].style[\"font-variant\" as unknown as number] = \"small-caps\";\n\n    const btnNames = [\n      caption.BTN_RUN_CAPTION,\n      caption.BTN_STEP_CAPTION,\n      caption.BTN_RST_CAPTION,\n      caption.BTN_CODE_CAPTION,\n      caption.BTN_SCREEN_CAPTION,\n      caption.BTN_SHOW_CAPTION,\n      caption.BTN_CHECK_CAPTION,\n      caption.BTN_NEXT_CAPTION,\n    ];\n    const btnIDs = [\n      id.BTN_RUN,\n      id.BTN_STEP,\n      id.BTN_RST,\n      id.BTN_CODE,\n      id.BTN_SCREEN,\n      id.BTN_SHOW,\n      id.BTN_CHECK,\n      id.BTN_NEXT,\n    ];\n    const btnHelp = [\n      caption.BTN_RUN_HELP,\n      caption.BTN_STEP_HELP,\n      caption.BTN_RST_HELP,\n      caption.BTN_CODE_HELP,\n      caption.BTN_SCREEN_HELP,\n      caption.BTN_SHOW_HELP,\n      caption.BTN_CHECK_HELP,\n      caption.BTN_NEXT_HELP,\n    ];\n    const btns = [];\n    length = btnNames.length;\n    for (let i = 0; i < length; i++) {\n      btns[i] = document.createElement(\"button\");\n      btns[i].innerHTML = btnNames[i];\n      btns[i].id = btnIDs[i];\n      btns[i].className = classes.BTN_MAIN;\n      btns[i].setAttribute(cnst.HELP_STRING_ATTRIBUTE_NAME, btnHelp[i]);\n    }\n\n    btns[7].style[\"display\"] = \"none\";\n\n    const btnsContainer = document.createElement(\"div\");\n    btnsContainer.className = classes.BTN_LEFT;\n\n    const btnsDebugContainer = document.createElement(\"div\");\n    btnsDebugContainer.className = classes.BTN_RIGHT;\n\n    //button \"run\"\n    btns[0].addEventListener(\"click\", (e) => {\n      (document.getElementById(\"btnReset\") as HTMLButtonElement).click();\n      try {\n        this._programRunner ||\n          (this._programRunner = new ProgramRunner(\n            (\n              document.getElementById(id.TA_CODE) as HTMLInputElement\n            ).value.toUpperCase(),\n            this._visualizer.getInputHistory(id.TA_INPUT, null),\n            id.TA_CONSOLE\n          ));\n        this._programRunner.run();\n      } catch (e) {\n        (document.getElementById(id.TA_CONSOLE) as HTMLInputElement).style[\n          \"color\"\n        ] =\n          (e as Error).message === msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG)\n            ? \"green\"\n            : \"red\";\n        (document.getElementById(id.TA_CONSOLE) as HTMLInputElement).value = (\n          e as Error\n        ).message.toLowerCase();\n        if (\n          (e as Error).message !== msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG)\n        ) {\n          //!!! TEMP !!! need actual ramsize const\n          this._visualizer.showRam(\n            id.TA_RAM,\n            null,\n            null,\n            256,\n            this._options[cnst.SIMB_SHOW_IDX],\n            this._options[cnst.HEX_SHOW_IDX]\n          );\n          this._visualizer.showScreen(id.TA_SCREEN, null, 0, 25);\n          this._programRunner = null;\n        } else {\n          this._programRunner &&\n            this._visualizer.showRam(\n              id.TA_RAM,\n              this._programRunner.env.variables,\n              this._programRunner.env.stack,\n              this._programRunner.env.ramSize,\n              this._options[cnst.SIMB_SHOW_IDX],\n              this._options[cnst.HEX_SHOW_IDX]\n            );\n          this._programRunner &&\n            this._visualizer.showScreen(\n              id.TA_SCREEN,\n              this._programRunner.env.screen,\n              this._programRunner.env.screenLine,\n              25\n            );\n        }\n      }\n    });\n\n    //button \"step\"\n    btns[1].addEventListener(\"click\", (e) => {\n      try {\n        this._programRunner ||\n          (this._programRunner = new ProgramRunner(\n            (\n              document.getElementById(id.TA_CODE) as HTMLInputElement\n            ).value.toUpperCase(),\n            this._visualizer.getInputHistory(id.TA_INPUT, null),\n            id.TA_CONSOLE\n          ));\n        this._programRunner.step();\n        this._visualizer.showRam(\n          id.TA_RAM,\n          this._programRunner.env.variables,\n          this._programRunner.env.stack,\n          this._programRunner.env.ramSize,\n          this._options[cnst.SIMB_SHOW_IDX],\n          this._options[cnst.HEX_SHOW_IDX]\n        );\n        this._visualizer.showScreen(\n          id.TA_SCREEN,\n          this._programRunner.env.screen,\n          this._programRunner.env.screenLine,\n          25\n        );\n        this._visualizer.changeShowedRamState(id.TA_RAM);\n      } catch (e) {\n        (document.getElementById(id.TA_CONSOLE) as HTMLInputElement).style[\n          \"color\"\n        ] =\n          (e as Error).message === msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG)\n            ? \"green\"\n            : \"red\";\n        (document.getElementById(id.TA_CONSOLE) as HTMLInputElement).value = (\n          e as Error\n        ).message.toLowerCase();\n        if (\n          (e as Error).message !== msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG)\n        ) {\n          //!!! TEMP !!! need actual ramsize const\n          this._visualizer.showRam(\n            id.TA_RAM,\n            null,\n            null,\n            256,\n            this._options[cnst.SIMB_SHOW_IDX],\n            this._options[cnst.HEX_SHOW_IDX]\n          );\n          this._visualizer.showScreen(id.TA_SCREEN, null, 0, 25);\n          this._programRunner = null;\n        } else {\n          this._programRunner &&\n            this._visualizer.showRam(\n              id.TA_RAM,\n              this._programRunner.env.variables,\n              this._programRunner.env.stack,\n              this._programRunner.env.ramSize,\n              this._options[cnst.SIMB_SHOW_IDX],\n              this._options[cnst.HEX_SHOW_IDX]\n            );\n          this._programRunner &&\n            this._visualizer.showScreen(\n              id.TA_SCREEN,\n              this._programRunner.env.screen,\n              this._programRunner.env.screenLine,\n              25\n            );\n        }\n      }\n    });\n\n    //button \"reset\"\n    btns[2].addEventListener(\"click\", (e) => {\n      this._programRunner = null;\n      (document.getElementById(id.TA_CONSOLE) as HTMLInputElement).value = \"\";\n\n      //!!! TEMP !!! need actual ramsize const\n      this._visualizer.showRam(\n        id.TA_RAM,\n        null,\n        null,\n        256,\n        this._options[cnst.SIMB_SHOW_IDX],\n        this._options[cnst.HEX_SHOW_IDX]\n      );\n      this._visualizer.showScreen(id.TA_SCREEN, null, 0, 25);\n    });\n\n    //button \"code/ram\"\n    btns[3].addEventListener(\"click\", (e) => {\n      const btn = document.getElementById(id.BTN_CODE) as HTMLButtonElement;\n      if (btn.innerHTML === caption.BTN_RAM_CAPTION) {\n        this._visualizer.showNeedTextArea([id.TA_CODE, id.TA_RAM], 0);\n        btn.innerHTML = caption.BTN_CODE_CAPTION;\n      } else {\n        if (this._programRunner) {\n          this._visualizer.showRam(\n            id.TA_RAM,\n            this._programRunner.env.variables,\n            this._programRunner.env.stack,\n            this._programRunner.env.ramSize,\n            this._options[cnst.SIMB_SHOW_IDX],\n            this._options[cnst.HEX_SHOW_IDX]\n          );\n        } else {\n          //!!! TEMP !!! need actual ramsize const\n          this._visualizer.showRam(\n            id.TA_RAM,\n            null,\n            null,\n            256,\n            this._options[cnst.SIMB_SHOW_IDX],\n            this._options[cnst.HEX_SHOW_IDX]\n          );\n        }\n\n        this._visualizer.showNeedTextArea([id.TA_CODE, id.TA_RAM], 1);\n        btn.innerHTML = caption.BTN_RAM_CAPTION;\n      }\n    });\n\n    //button \"screenInput\"\n    btns[4].addEventListener(\"click\", (e) => {\n      const btn = document.getElementById(id.BTN_SCREEN) as HTMLButtonElement;\n      if (btn.innerHTML === caption.BTN_INPUT_CAPTION) {\n        if (this._programRunner) {\n          this._visualizer.showScreen(\n            id.TA_SCREEN,\n            this._programRunner.env.screen,\n            this._programRunner.env.screenLine,\n            25\n          );\n        } else {\n          this._visualizer.showScreen(id.TA_SCREEN, null, 0, 25);\n        }\n\n        this._visualizer.showNeedTextArea([id.TA_SCREEN, id.TA_INPUT], 0);\n        btn.innerHTML = caption.BTN_SCREEN_CAPTION;\n      } else {\n        this._visualizer.showNeedTextArea([id.TA_SCREEN, id.TA_INPUT], 1);\n        btn.innerHTML = caption.BTN_INPUT_CAPTION;\n      }\n    });\n\n    //button \"show\"\n    btns[5].addEventListener(\"click\", (e) => {\n      if (\n        window.screen.availWidth > 1659 &&\n        this._options[cnst.ONE_SCREEN_IDX]\n      ) {\n        if (\n          (document.getElementById(id.BTN_SHOW) as HTMLButtonElement)\n            .innerHTML === caption.BTN_HIDE_CAPTION\n        ) {\n          (\n            document.getElementById(id.BTN_SHOW) as HTMLButtonElement\n          ).innerHTML = caption.BTN_SHOW_CAPTION;\n          (document.getElementById(id.TASK_CONTAINER) as HTMLDivElement).style[\n            \"display\"\n          ] = \"none\";\n        } else {\n          (\n            document.getElementById(id.BTN_SHOW) as HTMLButtonElement\n          ).innerHTML = caption.BTN_HIDE_CAPTION;\n          (document.getElementById(id.TASK_CONTAINER) as HTMLDivElement).style[\n            \"display\"\n          ] = \"block\";\n          this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, this._task.idx);\n          this._task.showScreen(id.TA_TASK_SCREEN, this._task.idx);\n        }\n      } else {\n        (document.getElementById(id.IDE_CONTAINER) as HTMLDivElement).style[\n          \"display\"\n        ] = \"none\";\n        (document.getElementById(id.TASK_CONTAINER) as HTMLDivElement).style[\n          \"display\"\n        ] = \"block\";\n        //show task ram and screen\n        this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, this._task.idx);\n        this._task.showScreen(id.TA_TASK_SCREEN, this._task.idx);\n      }\n    });\n\n    //button \"check\"\n    btns[6].addEventListener(\"click\", (e) => {\n      const comparer = new Comparer(this._options);\n      if (\n        comparer.compare(\n          this._testProg.toUpperCase(),\n          (\n            document.getElementById(id.TA_CODE) as HTMLInputElement\n          ).value.toUpperCase(),\n          this._checkHist,\n          id.TA_CONSOLE,\n          this._visualizer\n        )\n      ) {\n        (document.getElementById(id.TA_CONSOLE) as HTMLInputElement).style[\n          \"color\"\n        ] = \"green\";\n        (document.getElementById(id.TA_CONSOLE) as HTMLInputElement).value =\n          msg.makeMsg(msg.MESSAGES.UI_CONGRATULATIONS_MSG);\n        (document.getElementById(id.BTN_NEXT) as HTMLInputElement).style[\n          \"display\"\n        ] = \"inline-block\";\n\n        const oldLevel = window.localStorage.getItem(cnst.LS_LEVEL_ITEM) || 0;\n        const newLevel = this._tasks.idx + 1;\n\n        if (newLevel > oldLevel) {\n          window.localStorage.setItem(cnst.LS_LEVEL_ITEM, String(newLevel));\n        }\n      }\n    });\n    //\n    //button \"next\"\n    btns[7].addEventListener(\"click\", (e) => {\n      if (this._tasks.idx < this._tasks.text.length - 1) {\n        this.startGame(this._tasks.idx + 1);\n      }\n    });\n\n    for (let i = 0; i < 3; i++) {\n      btnsDebugContainer.appendChild(btns[i]);\n    }\n\n    for (let i = 5; i < length; i++) {\n      btnsContainer.appendChild(btns[i]);\n    }\n\n    const optionsContainer = document.createElement(\"div\");\n    optionsContainer.id = id.OPTIONS_CONTAINER;\n    optionsContainer.className = classes.OPTIONS_CONTAINER;\n\n    const labelTexts = [\n      caption.LBL_SIMB_TXT,\n      caption.LBL_HEX_TXT,\n      caption.LBL_HINTS_TXT,\n      caption.LBL_HELP_TXT,\n      caption.LBL_PLAY_MUSIC_TXT,\n      caption.LBL_SCREEN_TXT,\n    ];\n    const labels = [];\n    const cbxIds = [\n      id.LBL_SIMB,\n      id.LBL_HEX,\n      id.LBL_HINT,\n      id.LBL_HELP,\n      id.LBL_MUSIC,\n      id.LBL_SCREEN,\n    ];\n    const cbxs = [];\n    for (let i = 0; i < cbxIds.length; i++) {\n      labels[i] = document.createElement(\"label\");\n      labels[i].innerHTML = labelTexts[i];\n      labels[i].className = classes.OPTIONS_LBL;\n\n      cbxs[i] = document.createElement(\"input\");\n      cbxs[i].type = \"checkbox\";\n      cbxs[i].id = cbxIds[i];\n      cbxs[i].className = classes.OPTIONS_CBX;\n\n      const cbxContainer = document.createElement(\"div\");\n      cbxContainer.appendChild(labels[i]);\n      cbxContainer.appendChild(cbxs[i]);\n      optionsContainer.appendChild(cbxContainer);\n    }\n\n    const ideContainer = document.createElement(\"div\");\n    ideContainer.className = classes.IDE_CONTAINER;\n    ideContainer.id = id.IDE_CONTAINER;\n\n    const menuBar = document.createElement(\"div\");\n    menuBar.className = classes.MENUBAR;\n    menuBar.id = id.MENU;\n\n    const optSaveMOver = () => {\n      const lbl = document.getElementById(\n        id.MENUBAR_WARN_LBL\n      ) as HTMLLabelElement;\n      lbl.innerHTML = caption.IDE_RELOADED_TXT;\n      lbl.style[\"color\"] = \"red\";\n      lbl.style[\"display\"] = \"inline-block\";\n    };\n    const optSaveMOut = () => {\n      const lbl = document.getElementById(\n        id.MENUBAR_WARN_LBL\n      ) as HTMLLabelElement;\n      lbl.style[\"color\"] = \"black\";\n      lbl.style[\"display\"] = \"none\";\n    };\n\n    const optionsWarningLbl = document.createElement(\"label\");\n    optionsWarningLbl.className = classes.MENUBAR_LBL;\n    optionsWarningLbl.id = id.MENUBAR_WARN_LBL;\n\n    //menu bar options button\n    const optionsBtn = document.createElement(\"button\");\n    optionsBtn.innerHTML = caption.OPTIONS_CAPTION;\n    optionsBtn.id = id.OPTIONS_BTN;\n    optionsBtn.setAttribute(\n      cnst.HELP_STRING_ATTRIBUTE_NAME,\n      caption.OPTIONS_BNT_HINT_TXT\n    );\n    optionsBtn.addEventListener(\"click\", (e) => {\n      const btnCaption = (\n        document.getElementById(id.OPTIONS_BTN) as HTMLButtonElement\n      ).textContent as string;\n      //show options menu\n      if (btnCaption.charCodeAt(0) === caption.OPTIONS_CAPTION_CODE) {\n        (document.getElementById(id.LBL_SIMB) as HTMLInputElement).checked =\n          Boolean(this._options[cnst.SIMB_SHOW_IDX]);\n        (document.getElementById(id.LBL_HEX) as HTMLInputElement).checked =\n          Boolean(this._options[cnst.HEX_SHOW_IDX]);\n        (document.getElementById(id.LBL_HINT) as HTMLInputElement).checked =\n          Boolean(this._options[cnst.HINTS_SHOW_IDX]);\n        (document.getElementById(id.LBL_HELP) as HTMLInputElement).checked =\n          Boolean(this._options[cnst.HELP_SHOW_IDX]);\n        (document.getElementById(id.LBL_MUSIC) as HTMLInputElement).checked =\n          Boolean(this._options[cnst.PLAY_MUSIC_IDX]);\n        (document.getElementById(id.LBL_SCREEN) as HTMLInputElement).checked =\n          Boolean(this._options[cnst.ONE_SCREEN_IDX]);\n\n        (\n          document.getElementById(id.OPTIONS_BTN) as HTMLButtonElement\n        ).innerHTML = caption.NO_CAPTION;\n\n        const helpBtn = document.getElementById(\n          id.HELP_BTN\n        ) as HTMLButtonElement;\n        helpBtn.addEventListener(\"mouseover\", optSaveMOver);\n        helpBtn.addEventListener(\"mouseout\", optSaveMOut);\n        helpBtn.innerHTML = caption.YES_CAPTION;\n\n        (document.getElementById(id.LANG_BTN) as HTMLButtonElement).style[\n          \"display\"\n        ] = \"none\";\n\n        (document.getElementById(id.OPTIONS_CONTAINER) as HTMLDivElement).style[\n          \"display\"\n        ] = \"flex\";\n\n        (\n          document.getElementById(id.MAIN_CONTAINER) as HTMLDivElement\n        ).classList.add(classes.MAIN_CONTAINER_SHOWED_OPTIONS);\n\n        //disable buttons help strings\n        this.changeAllBtnsHelpStrings(0);\n      } else {\n        //close options menu\n        if (btnCaption.charCodeAt(0) === caption.NO_CAPTION_CODE) {\n          (\n            document.getElementById(id.OPTIONS_BTN) as HTMLButtonElement\n          ).innerHTML = caption.OPTIONS_CAPTION;\n\n          const helpBtn = document.getElementById(\n            id.HELP_BTN\n          ) as HTMLButtonElement;\n          helpBtn.removeEventListener(\"mouseover\", optSaveMOver);\n          helpBtn.removeEventListener(\"mouseout\", optSaveMOut);\n          helpBtn.innerHTML = caption.HELP_CAPTION;\n\n          (document.getElementById(id.LANG_BTN) as HTMLButtonElement).style[\n            \"display\"\n          ] = \"inline-block\";\n\n          (\n            document.getElementById(id.OPTIONS_CONTAINER) as HTMLDivElement\n          ).style[\"display\"] = \"none\";\n\n          (\n            document.getElementById(id.MAIN_CONTAINER) as HTMLDivElement\n          ).classList.remove(classes.MAIN_CONTAINER_SHOWED_OPTIONS);\n\n          //show buttons help strings if variable is truthy\n          this.changeAllBtnsHelpStrings(this._options[cnst.HELP_SHOW_IDX]);\n        }\n      }\n    });\n\n    //menu bar help button\n    const helpBtn = document.createElement(\"button\");\n    helpBtn.innerHTML = caption.HELP_CAPTION;\n    helpBtn.id = id.HELP_BTN;\n    helpBtn.setAttribute(\n      cnst.HELP_STRING_ATTRIBUTE_NAME,\n      caption.HELP_BTN_HINT_TXT\n    );\n    helpBtn.addEventListener(\"click\", () => {\n      const btnCaption = (\n        document.getElementById(id.HELP_BTN) as HTMLButtonElement\n      ).textContent as string;\n      //save options data\n      if (btnCaption.charCodeAt(0) === caption.YES_CAPTION_CODE) {\n        (\n          document.getElementById(id.OPTIONS_BTN) as HTMLButtonElement\n        ).innerHTML = caption.OPTIONS_CAPTION;\n\n        const helpBtn = document.getElementById(\n          id.HELP_BTN\n        ) as HTMLButtonElement;\n        helpBtn.removeEventListener(\"mouseover\", optSaveMOver);\n        helpBtn.removeEventListener(\"mouseout\", optSaveMOut);\n        helpBtn.innerHTML = caption.HELP_CAPTION;\n\n        (document.getElementById(id.LANG_BTN) as HTMLButtonElement).style[\n          \"display\"\n        ] = \"inline-block\";\n\n        (document.getElementById(id.OPTIONS_CONTAINER) as HTMLDivElement).style[\n          \"display\"\n        ] = \"none\";\n\n        (\n          document.getElementById(id.MAIN_CONTAINER) as HTMLDivElement\n        ).classList.remove(classes.MAIN_CONTAINER_SHOWED_OPTIONS);\n\n        this._options[cnst.HEX_SHOW_IDX] = Number(\n          (document.getElementById(id.LBL_HEX) as HTMLInputElement).checked\n        );\n        this._options[cnst.SIMB_SHOW_IDX] = Number(\n          (document.getElementById(id.LBL_SIMB) as HTMLInputElement).checked\n        );\n        this._options[cnst.HINTS_SHOW_IDX] = Number(\n          (document.getElementById(id.LBL_HINT) as HTMLInputElement).checked\n        );\n        this._options[cnst.HELP_SHOW_IDX] = Number(\n          (document.getElementById(id.LBL_HELP) as HTMLInputElement).checked\n        );\n        this._options[cnst.PLAY_MUSIC_IDX] = Number(\n          (document.getElementById(id.LBL_MUSIC) as HTMLInputElement).checked\n        );\n        this._options[cnst.ONE_SCREEN_IDX] = Number(\n          (document.getElementById(id.LBL_SCREEN) as HTMLInputElement).checked\n        );\n\n        //save changed this._options\n        window.localStorage.setItem(\n          cnst.LS_OPT_ITEM,\n          JSON.stringify(this._options)\n        );\n\n        //restarts with new parameters\n        this.startGame(this._tasks.idx, true);\n\n        //show buttons help strings if variable is truthy\n        this.changeAllBtnsHelpStrings(this._options[cnst.HELP_SHOW_IDX]);\n      } else {\n        //help\n        if (btnCaption === caption.HELP_CAPTION) {\n          (document.getElementById(id.OPTIONS_BTN) as HTMLButtonElement).style[\n            \"display\"\n          ] = \"none\";\n\n          (\n            document.getElementById(id.HELP_BTN) as HTMLButtonElement\n          ).innerHTML = caption.NO_CAPTION;\n\n          (document.getElementById(id.LANG_BTN) as HTMLButtonElement).style[\n            \"display\"\n          ] = \"none\";\n\n          (document.getElementById(id.HELP_SCREEN) as HTMLDivElement).style[\n            \"display\"\n          ] = \"block\";\n\n          const ideContainer = document.getElementById(\n            id.IDE_CONTAINER\n          ) as HTMLDivElement;\n          ideContainer.setAttribute(\n            cnst.DISPLAY_ATTRIBUTE_NAME,\n            ideContainer.style[\"display\"]\n          );\n          ideContainer.style[\"display\"] = \"none\";\n\n          const taskContainer = document.getElementById(\n            id.TASK_CONTAINER\n          ) as HTMLDivElement;\n          taskContainer.setAttribute(\n            cnst.DISPLAY_ATTRIBUTE_NAME,\n            taskContainer.style[\"display\"]\n          );\n          taskContainer.style[\"display\"] = \"none\";\n\n          //disable buttons help strings\n          this.changeAllBtnsHelpStrings(0);\n        } else {\n          //close help screen\n          if (btnCaption.charCodeAt(0) === caption.NO_CAPTION_CODE) {\n            (\n              document.getElementById(id.OPTIONS_BTN) as HTMLButtonElement\n            ).style[\"display\"] = \"inline-block\";\n\n            (\n              document.getElementById(id.HELP_BTN) as HTMLButtonElement\n            ).innerHTML = caption.HELP_CAPTION;\n\n            (document.getElementById(id.LANG_BTN) as HTMLButtonElement).style[\n              \"display\"\n            ] = \"inline-block\";\n\n            (document.getElementById(id.HELP_SCREEN) as HTMLDivElement).style[\n              \"display\"\n            ] = \"none\";\n\n            (document.getElementById(id.IDE_CONTAINER) as HTMLDivElement).style[\n              \"display\"\n            ] = \"block\";\n\n            const ideContainer = document.getElementById(\n              id.IDE_CONTAINER\n            ) as HTMLDivElement;\n            ideContainer.style[\"display\"] = ideContainer.getAttribute(\n              cnst.DISPLAY_ATTRIBUTE_NAME\n            ) as string;\n\n            const taskContainer = document.getElementById(\n              id.TASK_CONTAINER\n            ) as HTMLDivElement;\n            taskContainer.style[\"display\"] = taskContainer.getAttribute(\n              cnst.DISPLAY_ATTRIBUTE_NAME\n            ) as string;\n\n            //show buttons help strings if variable is truthy\n            this.changeAllBtnsHelpStrings(this._options[cnst.HELP_SHOW_IDX]);\n\n            (\n              document.getElementById(id.HELP_PAGE) as HTMLIFrameElement\n            ).addEventListener(\"load\", () => {\n              history.pushState(null, \"\", null);\n            });\n            (document.getElementById(id.HELP_PAGE) as HTMLIFrameElement).src =\n              cnst.HELP_PAGE_SRC;\n          }\n        }\n      }\n    });\n\n    //menu bar language switch button\n    const langBtn = document.createElement(\"button\");\n    langBtn.innerHTML = caption.LANG_CAPTION;\n    langBtn.id = id.LANG_BTN;\n    langBtn.setAttribute(\n      cnst.HELP_STRING_ATTRIBUTE_NAME,\n      caption.LANG_BTN_HINT_TXT\n    );\n\n    optionsBtn.className =\n      helpBtn.className =\n      langBtn.className =\n        classes.MENU_BTN;\n\n    menuBar.appendChild(optionsWarningLbl);\n    menuBar.appendChild(langBtn);\n    menuBar.appendChild(helpBtn);\n    menuBar.appendChild(optionsBtn);\n\n    const helpPage = document.createElement(\"iframe\");\n    helpPage.id = id.HELP_PAGE;\n    helpPage.className = classes.HELP_PAGE_MAIN;\n    /* eslint-disable no-undef */\n    helpPage.onload = function () {\n      (\n        (document.getElementById(id.HELP_PAGE) as HTMLIFrameElement)\n          .contentWindow as WindowProxy\n      ).document.body.style[\"color\"] = \"green\";\n    };\n    /* eslint-enable */\n    helpPage.src = cnst.HELP_PAGE_SRC;\n\n    const helpScreen = document.createElement(\"div\");\n    helpScreen.id = id.HELP_SCREEN;\n    helpScreen.className = classes.HELP_SCREEN_MAIN;\n    helpScreen.appendChild(helpPage);\n\n    mainDiv.appendChild(helpScreen);\n    mainDiv.appendChild(menuBar);\n    mainDiv.appendChild(optionsContainer);\n\n    let taContainer1 = document.createElement(\"div\");\n    taContainer1.className = classes.TA_CONTAINER;\n\n    let taContainer2 = document.createElement(\"div\");\n    taContainer2.className = classes.TA_CONTAINER;\n\n    if (window.screen.availWidth > cnst.MIN_WIDE_SCREEN_WIDTH) {\n      taContainer1.appendChild(btns[3]);\n      taContainer1.appendChild(textareas[1]);\n      taContainer1.appendChild(textareas[2]);\n      taContainer1.appendChild(textareas[0]);\n      taContainer1.appendChild(btnsDebugContainer);\n      taContainer1.appendChild(btnsContainer);\n\n      taContainer2.appendChild(btns[4]);\n      taContainer2.appendChild(textareas[3]);\n      taContainer2.appendChild(textareas[4]);\n\n      ideContainer.appendChild(taContainer1);\n      ideContainer.appendChild(taContainer2);\n    } else {\n      taContainer1.className = classes.TA_CONTAINER;\n      taContainer1.appendChild(btns[3]);\n      taContainer1.appendChild(textareas[1]);\n      taContainer1.appendChild(textareas[2]);\n      taContainer1.appendChild(textareas[0]);\n      taContainer1.appendChild(btnsDebugContainer);\n      taContainer1.appendChild(btnsContainer);\n      taContainer1.style[\"width\"] = \"100%\";\n\n      taContainer2.appendChild(textareas[3]);\n      taContainer2.appendChild(textareas[4]);\n      taContainer2.style[\"width\"] = \"100%\";\n\n      ideContainer.appendChild(taContainer1);\n      ideContainer.appendChild(taContainer2);\n      ideContainer.appendChild(btns[4]);\n    }\n\n    mainDiv.appendChild(ideContainer);\n\n    //set \"textarea\" div width and height\n    textareas[2].style[\"width\"] = textareas[1].clientWidth + 2 + \"px\";\n    textareas[2].style[\"height\"] = textareas[1].clientHeight + 2 + \"px\";\n\n    const taskTareaIDs = [id.TA_TASK_RAM, id.TA_TASK_SCREEN];\n    const taskTextareas = [];\n    length = taskTareaIDs.length;\n\n    for (let i = 0; i < length; i++) {\n      if (i) {\n        taskTextareas[i] = document.createElement(\"textarea\");\n        (taskTextareas[i] as HTMLTextAreaElement).cols = cols;\n        taskTextareas[i].className = classes.TA_TASK_MAIN;\n        (taskTextareas[i] as HTMLTextAreaElement).readOnly = true;\n      }\n      //task ram \"textarea\"\n      else {\n        taskTextareas[i] = document.createElement(\"div\");\n        taskTextareas[i].className = classes.TA_TASK_RAM;\n      }\n      taskTextareas[i].id = taskTareaIDs[i];\n      taskTextareas[i].tabIndex = -1;\n    }\n    (taskTextareas[0] as HTMLTextAreaElement).rows = rows2;\n    (taskTextareas[1] as HTMLTextAreaElement).rows = rows1;\n\n    const taskBtnsContainer = document.createElement(\"div\");\n    taskBtnsContainer.className = classes.TASK_BTNS_CONTAINER_MAIN;\n    taskBtnsContainer.id = id.TASK_BTNS_CONTAINER;\n\n    const taskBtnNames = [\n      caption.BTN_FIRST_CAPTION,\n      caption.BTN_TASK_PLAY_PREV_CAPTION,\n      caption.BTN_TASK_PREV_CAPTION,\n      caption.BTN_TASK_NEXT_CAPTION,\n      caption.BTN_TASK_PLAY_NEXT_CAPTION,\n      caption.BTN_LAST_CAPTION,\n      caption.BTN_RESTART_CAPTION,\n      caption.BTN_CLOSE_CAPTION,\n    ];\n    const taskBtnIDs = [\n      id.BTN_FIRST,\n      id.BTN_TASK_PLAY_PREV,\n      id.BTN_TASK_PREV,\n      id.BTN_TASK_NEXT,\n      id.BTN_TASK_PLAY_NEXT,\n      id.BTN_LAST,\n      id.BTN_RESTART,\n      id.BTN_CLOSE,\n    ];\n    const taskBtnHelp = [\n      caption.BTN_FIRST_HELP,\n      caption.BTN_TASK_PLAY_PREV_HELP,\n      caption.BTN_TASK_PREV_HELP,\n      caption.BTN_TASK_NEXT_HELP,\n      caption.BTN_TASK_PLAY_NEXT_HELP,\n      caption.BTN_LAST_HELP,\n      caption.BTN_RESTART_HELP,\n      caption.BTN_CLOSE_HELP,\n    ];\n    const taskBtns = [];\n\n    length = taskBtnNames.length;\n    for (let i = 0; i < length; i++) {\n      taskBtns[i] = document.createElement(\"button\");\n      taskBtns[i].innerHTML = taskBtnNames[i];\n      taskBtns[i].id = taskBtnIDs[i];\n      taskBtns[i].className = classes.TASK_BTNS_MAIN;\n      taskBtns[i].setAttribute(cnst.HELP_STRING_ATTRIBUTE_NAME, taskBtnHelp[i]);\n    }\n\n    //button first\n    taskBtns[0].addEventListener(\"click\", (e) => {\n      this._task.setIdx(0);\n      this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, 0);\n      this._task.showScreen(id.TA_TASK_SCREEN, 0);\n    });\n\n    //button play prev\n    taskBtns[1].addEventListener(\"click\", (e) => {\n      const last = this._task.historySize;\n      const hIdx = this._task.idx;\n      let idx;\n      for (idx = hIdx - 1; idx >= 0; idx--) {\n        if (\n          idx < last - 1 &&\n          this._task.getRamElement(idx) !== this._task.getRamElement(idx + 1)\n        ) {\n          break;\n        }\n      }\n      idx < 0 && (idx = 0);\n      this._task.setIdx(idx);\n      this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, idx);\n      this._task.showScreen(id.TA_TASK_SCREEN, idx);\n    });\n\n    //button \"prev\"\n    taskBtns[2].addEventListener(\"click\", (e) => {\n      const hIdx = this._task.decrementIdx();\n      this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, hIdx);\n      this._task.showScreen(id.TA_TASK_SCREEN, hIdx);\n    });\n\n    //button \"next\"\n    taskBtns[3].addEventListener(\"click\", (e) => {\n      const hIdx = this._task.incrementIdx();\n      this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, hIdx);\n      this._task.showScreen(id.TA_TASK_SCREEN, hIdx);\n    });\n\n    //button play next\n    taskBtns[4].addEventListener(\"click\", (e) => {\n      const last = this._task.historySize;\n      const hIdx = this._task.idx;\n      let idx;\n      for (idx = hIdx + 1; idx < last; idx++) {\n        if (\n          idx &&\n          this._task.getRamElement(idx) !== this._task.getRamElement(idx - 1)\n        ) {\n          break;\n        }\n      }\n      idx > last - 1 && (idx = last - 1);\n      this._task.setIdx(idx);\n      this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, idx);\n      this._task.showScreen(id.TA_TASK_SCREEN, idx);\n    });\n\n    //button last\n    taskBtns[5].addEventListener(\"click\", (e) => {\n      const idx = this._task.historySize - 1;\n      this._task.setIdx(idx);\n      this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, idx);\n      this._task.showScreen(id.TA_TASK_SCREEN, idx);\n    });\n\n    //button \"restart\"\n    taskBtns[6].addEventListener(\"click\", (e) => {\n      //creating new task (global variable)\n      this._task = new Task(\n        this._testProg.toUpperCase(),\n        this._testHist,\n        null,\n        this._options\n      );\n      this._task.showRam(id.TA_TASK_RAM, id.TASK_LBL, this._task.idx);\n      this._task.showScreen(id.TA_TASK_SCREEN, this._task.idx);\n    });\n\n    //button \"close\"\n    taskBtns[7].addEventListener(\"click\", (e) => {\n      (document.getElementById(id.TASK_CONTAINER) as HTMLDivElement).style[\n        \"display\"\n      ] = \"none\";\n      (document.getElementById(id.IDE_CONTAINER) as HTMLDivElement).style[\n        \"display\"\n      ] = \"block\";\n    });\n\n    for (let i = 0; i < length - 1; i++) {\n      taskBtnsContainer.appendChild(taskBtns[i]);\n    }\n\n    const taskContainer = document.createElement(\"div\");\n    taskContainer.className = classes.TASK_CONTAINER_MAIN;\n    taskContainer.id = id.TASK_CONTAINER;\n\n    const taskLabel = document.createElement(\"label\");\n    taskLabel.className = classes.TASK_LBL_MAIN;\n    taskLabel.id = id.TASK_LBL;\n\n    taContainer1 = document.createElement(\"div\");\n    taContainer1.className = classes.TA_TASK_CONTAINER_MAIN;\n\n    taContainer2 = document.createElement(\"div\");\n    taContainer2.className = classes.TA_TASK_CONTAINER_MAIN;\n\n    if (window.screen.availWidth > cnst.MIN_WIDE_SCREEN_WIDTH) {\n      if (this._options[cnst.ONE_SCREEN_IDX]) {\n        taContainer1.classList.add(classes.TA_TASK_CONTAINER_LEFT_SINGLESCREEN);\n        taContainer1.appendChild(taskLabel);\n        taContainer1.appendChild(taskBtnsContainer);\n        taContainer1.appendChild(taskTextareas[0]);\n\n        taContainer2.appendChild(taskTextareas[1]);\n        taskContainer.appendChild(taContainer1);\n        taskContainer.appendChild(taContainer2);\n      } else {\n        taContainer1.classList.add(classes.TA_TASK_CONTAINER_LEFT);\n        taContainer1.appendChild(taskLabel);\n        taContainer1.appendChild(taskTextareas[0]);\n        taContainer1.appendChild(taskBtnsContainer);\n        taContainer1.appendChild(taskBtns[length - 1]);\n\n        taContainer2.appendChild(taskTextareas[1]);\n\n        taskContainer.appendChild(taContainer1);\n        taskContainer.appendChild(taContainer2);\n      }\n    } else {\n      taContainer1.classList.add(classes.TA_TASK_CONTAINER_LEFT);\n      taContainer1.appendChild(taskLabel);\n      taContainer1.appendChild(taskTextareas[0]);\n      taContainer1.appendChild(taskBtnsContainer);\n      taContainer1.style[\"width\"] = \"100%\";\n\n      taContainer2.appendChild(taskTextareas[1]);\n      taContainer2.style[\"width\"] = \"100%\";\n\n      taskContainer.appendChild(taContainer1);\n      taskContainer.appendChild(taContainer2);\n      taskContainer.appendChild(taskBtns[length - 1]);\n    }\n\n    this._options[cnst.HINTS_SHOW_IDX] &&\n      ((document.getElementById(id.TA_CODE) as HTMLTextAreaElement).value =\n        codeStr);\n    (document.getElementById(id.MAIN_CONTAINER) as HTMLDivElement).appendChild(\n      taskContainer\n    );\n\n    this.changeAllBtnsHelpStrings(this._options[cnst.HELP_SHOW_IDX]);\n\n    //set task \"textarea\" div width and height\n    taskTextareas[0].style[\"width\"] = textareas[2].style[\"width\"];\n    taskTextareas[0].style[\"height\"] = textareas[2].style[\"height\"];\n\n    if (this._musicPlayer) {\n      this._options[cnst.PLAY_MUSIC_IDX]\n        ? this._musicPlayer.play()\n        : this._musicPlayer.pause();\n    } else {\n      this._musicPlayer = new Audio(cnst.BG_MUSIC_SRC);\n      this._musicPlayer.loop = true;\n      this._musicPlayer.addEventListener(\"canplay\", (e: Event) => {\n        this._options[cnst.PLAY_MUSIC_IDX]\n          ? (this._musicPlayer as HTMLAudioElement).play()\n          : (this._musicPlayer as HTMLAudioElement).pause();\n      });\n    }\n  }\n\n  get musicPlayer() {\n    return this._musicPlayer;\n  }\n}\n","export const REPO_NAME = \"/graybox\";\n//for localhost debugging\n//export const REPO_NAME = \"\";\n\nexport const SIMB_SHOW_IDX = 0;\nexport const HEX_SHOW_IDX = 1;\nexport const HINTS_SHOW_IDX = 2;\nexport const HELP_SHOW_IDX = 3;\nexport const PLAY_MUSIC_IDX = 4;\nexport const ONE_SCREEN_IDX = 5;\n\nexport const SIMB_SHOW_INIT_VAL = 1;\nexport const HEX_SHOW_INIT_VAL = 0;\nexport const HINTS_SHOW_INIT_VAL = 1;\nexport const HELP_SHOW_INIT_VAL = 1;\nexport const PLAY_MUSIC_INIT_VAL = 0;\nexport const ONE_SCREEN_INIT_VAL = 1;\n\nexport const MAX_STEP_COUNT = 100000;\n\nexport const HELP_PAGE_SRC = `${REPO_NAME}/yBasic.html`;\nexport const LS_OPT_ITEM = \"options\";\nexport const HELP_STRING_ATTRIBUTE_NAME = \"helpString\";\nexport const DISPLAY_ATTRIBUTE_NAME = \"visible\";\nexport const IDX_ATTRIBUTE_NAME = \"idx\";\nexport const LS_LEVEL_ITEM = \"level\";\n\nexport const MIN_WIDE_SCREEN_WIDTH = 1659;\n\nexport const BG_MUSIC_SRC = `${REPO_NAME}/bgmusic.mp3`;\n\n//export const LEVELS_SRV = \"http://185.117.153.193:43210/levels\";\n//CORS proxy\nexport const LEVELS_SRV = `https://api.allorigins.win/get?url=${encodeURIComponent(\n  \"http://185.117.153.193:43210/levels\"\n)}&rand=${Math.random()}`;\n","export const TA_MAIN = \"ta-main-class\";\nexport const TA_RAM = \"ta-ram-class\";\nexport const MAIN_CONTAINER = \"main-container-class\";\nexport const BTN_MAIN = \"btns-main-class\";\nexport const BTN_LEFT = \"btns-container-class btns-container-left-class\";\nexport const BTN_RIGHT = \"btns-container-class btns-container-right-class\";\n\nexport const OPTIONS_CONTAINER = \"options-container-class\";\n\nexport const OPTIONS_LBL = \"options-lbl-class\";\nexport const OPTIONS_CBX = \"options-cbx-class\";\nexport const IDE_CONTAINER = \"ide-container-class\";\nexport const MENUBAR = \"menu-bar-class\";\n\nexport const MENUBAR_LBL = \"menu-bar-lbl-class\";\n\nexport const MAIN_CONTAINER_SHOWED_OPTIONS =\n  \"main-container-class-showed-options\";\n\nexport const MENU_BTN = \"menu-btn-class\";\n\nexport const HELP_PAGE_MAIN = \"help-page-main-class\";\nexport const HELP_SCREEN_MAIN = \"help-screen-main-class\";\n\nexport const TA_CONTAINER = \"ta-container-class\";\n\nexport const TA_TASK_MAIN = \"ta-task-main-class\";\nexport const TA_TASK_RAM = \"ta-task-ram-class\";\n\nexport const TASK_BTNS_CONTAINER_MAIN = \"task-btns-main-container\";\n\nexport const TASK_BTNS_MAIN = \"btns-main-class\";\n\nexport const TASK_CONTAINER_MAIN = \"task-container-main-class\";\n\nexport const TASK_LBL_MAIN = \"task-label-class\";\n\nexport const TA_TASK_CONTAINER_MAIN = \"ta-task-container-class\";\nexport const TA_TASK_CONTAINER_LEFT_SINGLESCREEN =\n  \"ta-task-container-class-left-onescreen\";\nexport const TA_TASK_CONTAINER_LEFT = \"ta-task-container-class-left\";\n\nexport const PICK_LEVEL_SELECTOR = \"pick-level-selector-class\";\nexport const PICK_LEVEL_SELECTOR_OPTIONS = \"pick-level-selector-options-class\";\n\nexport const LOGO = \"logo-container-class\";\n","export const BTN_RUN_CAPTION = \"run\";\nexport const BTN_STEP_CAPTION = \"step\";\nexport const BTN_RST_CAPTION = \"reset\";\nexport const BTN_CODE_CAPTION = \"code\";\nexport const BTN_SCREEN_CAPTION = \"screen\";\nexport const BTN_SHOW_CAPTION = \"show\";\nexport const BTN_CHECK_CAPTION = \"check\";\nexport const BTN_NEXT_CAPTION = \"next\";\nexport const BTN_RAM_CAPTION = \"ram\";\nexport const BTN_INPUT_CAPTION = \"input\";\nexport const BTN_HIDE_CAPTION = \"hide\";\n\nexport const BTN_RUN_HELP = \"Run to the end of program\";\nexport const BTN_STEP_HELP = \"Step onto the next codeline\";\nexport const BTN_RST_HELP = \"Go to program start\";\nexport const BTN_CODE_HELP = \"Switch program text and RAM\";\nexport const BTN_SCREEN_HELP = \"Switch output window and virtual console\";\nexport const BTN_SHOW_HELP = \"Show or hide the task\";\nexport const BTN_CHECK_HELP = \"Compare execution of your program with the task\";\nexport const BTN_NEXT_HELP = \"Go to the next level\";\n\nexport const LBL_SIMB_TXT =\n  \"Show characters instead of numbers for string variables in RAM\";\nexport const LBL_HEX_TXT = \"Show numbers in RAM by a hexadecimal format\";\nexport const LBL_HINTS_TXT = \"Show code hints\";\nexport const LBL_HELP_TXT = \"Show hints about button actions\";\nexport const LBL_PLAY_MUSIC_TXT = \"Background music\";\nexport const LBL_SCREEN_TXT =\n  \"Single screen for code and task (wide screens only)\";\n\nexport const IDE_RELOADED_TXT =\n  \"The IDE will be reloaded with the new settings\";\n\nexport const HELP_CAPTION = \"F1\";\nexport const HELP_BTN_HINT_TXT = \"Show help\";\n\nexport const LANG_CAPTION = \"RU\";\nexport const LANG_BTN_HINT_TXT = \"Language switching\";\n\nexport const OPTIONS_CAPTION = \"&#9776\";\nexport const OPTIONS_CAPTION_CODE = 9776;\nexport const OPTIONS_BNT_HINT_TXT = \"Show options\";\n\nexport const NO_CAPTION = \"&#10008\";\nexport const NO_CAPTION_CODE = 10008;\n\nexport const YES_CAPTION = \"&#10004\";\nexport const YES_CAPTION_CODE = 10004;\n\nexport const BTN_FIRST_CAPTION = \"[<\";\nexport const BTN_TASK_PLAY_PREV_CAPTION = \"<<\";\nexport const BTN_TASK_PREV_CAPTION = \"<\";\nexport const BTN_TASK_NEXT_CAPTION = \">\";\nexport const BTN_TASK_PLAY_NEXT_CAPTION = \">>\";\nexport const BTN_LAST_CAPTION = \">]\";\nexport const BTN_RESTART_CAPTION = \"restart\";\nexport const BTN_CLOSE_CAPTION = \"close\";\n\nexport const BTN_FIRST_HELP = \"Go to the first snapshot\";\nexport const BTN_TASK_PLAY_PREV_HELP = \"Go to previous RAM cell change\";\nexport const BTN_TASK_PREV_HELP = \"Go to the previous snapshot\";\nexport const BTN_TASK_NEXT_HELP = \"Go to the next snapshot\";\nexport const BTN_TASK_PLAY_NEXT_HELP = \"Go to next RAM cell change\";\nexport const BTN_LAST_HELP = \"Go to the last snapshot\";\nexport const BTN_RESTART_HELP = \"Reset the task to its initial state\";\nexport const BTN_CLOSE_HELP = \"Close task screen\";\n","import * as msg from \"../consts/messages\";\nimport * as cnst from \"../consts/const\";\nimport { Parser } from \"../lang/parser\";\nimport { Environment } from \"../lang/environment\";\nimport { InputHistory } from \"../lang/iHistory\";\nimport { Executor } from \"../lang/executor\";\n\nexport class ProgramRunner {\n  private _consoleId: string;\n  private _parser: Parser;\n  private _exec: Executor;\n\n  private _inputHistory: InputHistory;\n  private _env: Environment;\n\n  constructor(str: string, iHist: InputHistory | null, consoleId: string) {\n    this._consoleId = consoleId;\n    this._parser = new Parser();\n    this._exec = new Executor();\n\n    if (iHist) {\n      this._inputHistory = iHist;\n    } else {\n      this._inputHistory = new InputHistory();\n    }\n    this._env = new Environment(256, 28, str.split(\"\\n\"), this._inputHistory);\n  }\n\n  run() {\n    let counter = 0;\n    while (counter < cnst.MAX_STEP_COUNT) {\n      if (\n        this._exec.execute(\n          this._parser.parse(this.env.getCurrentProgramLine(), this._env),\n          this._env\n        ) !== 0 /*null*/\n      ) {\n        if (!this._env.setNextLP()) {\n          throw new Error(msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG));\n        }\n      }\n      counter++;\n    }\n    throw new Error(\n      msg.makeMsg(msg.MESSAGES.EXE_LOOPING_MSG, cnst.MAX_STEP_COUNT)\n    );\n  }\n\n  step() {\n    (document.getElementById(this._consoleId) as HTMLTextAreaElement).style[\n      \"color\"\n    ] = \"green\";\n    (document.getElementById(this._consoleId) as HTMLTextAreaElement).value =\n      `EXECUTED LINE:\\n${this.env.getCurrentProgramLine()}`.toLowerCase();\n    if (\n      this._exec.execute(\n        this._parser.parse(this._env.getCurrentProgramLine(), this.env),\n        this._env\n      ) !== 0 /*null*/\n    ) {\n      if (!this.env.setNextLP()) {\n        throw new Error(\"EXECUTION COMPLITED SUCCESSFULLY!\");\n      }\n    }\n  }\n\n  get env() {\n    return this._env;\n  }\n}\n","import * as msg from \"../consts/messages\";\nimport { InputHistory } from \"./iHistory\";\nimport { Variable } from \"./variable\";\nimport { ReturnPointer } from \"./rPointer\";\n\nexport class Environment {\n  private _lp: string;\n  private _program: string[];\n  private _lineNumbers: string[];\n  private _inputHistory: InputHistory;\n\n  private _ramSize: number;\n  private _varCount: number;\n  private _variables: { [index: string]: Variable };\n\n  private _stack: { [index: string]: ReturnPointer };\n\n  private _currentStackAddr: number;\n  private _currentHeapAddr: number;\n\n  private _screen: { [index: string]: string };\n  private _screenLine: number;\n\n  constructor(\n    ramSize: number,\n    varCount: number,\n    program: string[],\n    inputHistory: InputHistory\n  ) {\n    this._lp = msg.IDE_NA;\n\n    let emptyFlag = 1;\n\n    //check that the all program lines had sequental numbering and program is not empty\n    for (let i = 0; i < program.length; i++) {\n      const trimmedStr = program[i].trim();\n      if (trimmedStr.length === 0) {\n        continue;\n      }\n\n      trimmedStr[trimmedStr.length - 1] === \";\" &&\n        msg.throwError(this._lp, msg.MESSAGES.IDE_SEMICOLON_ERR);\n      emptyFlag = 0;\n\n      const number = Number(program[i].trim().split(\" \")[0]);\n      String(number) === \"NaN\" &&\n        msg.throwError(this._lp, msg.MESSAGES.IDE_WRONG_NUMBER_ERR);\n      if (number < 0) {\n        msg.throwError(this._lp, msg.MESSAGES.IDE_NEGATIVE_NUMBER_ERR, number);\n      }\n\n      if (i) {\n        const prev =\n          i - 1 || program[i - 1].trim().length\n            ? Number(program[i - 1].trim().split(\" \")[0])\n            : -1;\n        number <= prev &&\n          msg.throwError(\n            this._lp,\n            msg.MESSAGES.IDE_UNSEQUENTAL_NUMBER_ERR,\n            number,\n            prev\n          );\n      }\n\n      //!!! ïðîâåðèòü íåäîïóñòèìûå ñèìâîëû ^,&,~ è ò.ä âåçäå êðîìå ñòðîêîâûõ êîíñòàíò\n      //!!! çàìåíèòü AND NOT OR XOR íà & ! è ò.ä.\n\n      program[i] = trimmedStr;\n    }\n    emptyFlag && msg.throwError(this._lp, msg.MESSAGES.IDE_EMPTY_CODE_ERR);\n\n    //program - array of sorted lines\n    this._program = program.filter((el) => {\n      return el.trim().length ? true : false;\n    });\n    this._lineNumbers = this._program.map((el) => {\n      return el.split(\" \")[0];\n    });\n    //last empty line adding for viewing last step operation\n    this._lineNumbers.push(\n      this._lineNumbers[this._lineNumbers.length - 1] + \"1\"\n    );\n    this._program.push(this._lineNumbers[this._lineNumbers.length - 1]);\n\n    //line pointer (LP)\n    this._lp = this._lineNumbers[0];\n\n    //history for console inputs\n    this._inputHistory = inputHistory;\n\n    //local RAM size in bytes\n    this._ramSize = ramSize;\n    //local variables count\n    this._varCount = varCount;\n    //all knowing variables\n    this._variables = {};\n\n    //all knowing return pointers\n    this._stack = {};\n\n    //current stack and heap addresses\n    this._currentStackAddr = ramSize;\n    this._currentHeapAddr = 0;\n\n    //fake console\n    this._screen = {};\n\n    //fake console current line\n    this._screenLine = 0;\n  }\n\n  //get program line by LP\n  getCurrentProgramLine(): string {\n    return this._program[this._lineNumbers.indexOf(this._lp)];\n  }\n\n  //get empty heap address\n  getEmptyHeapAddr(size: number): number | null {\n    let currentAddr = 0;\n    for (const el in this._variables) {\n      const lastAddr = this._variables[el].address + this._variables[el].size;\n      if (lastAddr > currentAddr) {\n        currentAddr = lastAddr;\n      }\n    }\n    return currentAddr + size >= this._currentStackAddr\n      ? null\n      : (this._currentHeapAddr = currentAddr);\n  }\n\n  //create new variable\n  createVar(name: string, value: string | number) {\n    !this._varCount && msg.throwError(this._lp, msg.MESSAGES.VAR_TOO_MANY_ERR);\n    const type = name.indexOf(\"$\") >= 0 ? 1 : 0;\n    //for zero-terminated strings, length is bigger by 1 of max size for the tail zero\n    const size = type ? 9 : 1;\n    const address = this.getEmptyHeapAddr(size);\n    address === null &&\n      msg.throwError(this.lp, msg.MESSAGES.VAR_MEMORY_FULL_ERR, name);\n    if (name[name.length - 1] >= \"0\" && name[name.length - 1] <= \"7\") {\n      name in this._variables &&\n        msg.throwError(this._lp, msg.MESSAGES.VAR_DEFINED_ERR, name[0]);\n      for (const variable in this._variables) {\n        name[0] === this._variables[variable].name[0] &&\n          (name[1] === this._variables[variable].name[2] ||\n            name[2] === this._variables[variable].name[1]) &&\n          msg.throwError(this._lp, msg.MESSAGES.VAR_DEFINED_ERR, name[0]);\n      }\n      name[name.length - 1] === \"0\" && this._varCount--;\n    } else {\n      name in this._variables &&\n        msg.throwError(this._lp, msg.MESSAGES.VAR_DEFINED_ERR, name[0]);\n      name[0] in this._variables &&\n        msg.throwError(this._lp, msg.MESSAGES.VAR_DEFINED_ERR, name[0]);\n      name[0] + \"$\" in this._variables &&\n        msg.throwError(this._lp, msg.MESSAGES.VAR_DEFINED_ERR, name[0]);\n      this._varCount--;\n    }\n    !type &&\n      typeof value === \"number\" &&\n      (value = String(((value & 0xff) ^ 0x80) - 0x80));\n    this._variables[name] = new Variable(\n      name,\n      value,\n      address as number,\n      type,\n      size\n    );\n  }\n\n  //get empty stack address\n  getEmptyStackAddr(size: number): number | null {\n    let currentAddr = this._ramSize;\n    for (const el in this.stack) {\n      const lastAddr = this._stack[el].address;\n      lastAddr < currentAddr && (currentAddr = lastAddr);\n    }\n    return currentAddr - size <= this._currentHeapAddr\n      ? null\n      : (this._currentStackAddr = currentAddr - size);\n  }\n\n  //create new return pointer\n  createRP(value: string): void {\n    const size = 2;\n    const address = this.getEmptyStackAddr(size);\n    address === null && msg.throwError(this.lp, msg.MESSAGES.VAR_POINTER_ERR);\n    this._stack[String(address)] = new ReturnPointer(\n      value,\n      address as number,\n      size\n    );\n  }\n\n  //delete last return pointer\n  deleteRP = (): string | null => {\n    let currentAddr = this._ramSize;\n    for (const el in this.stack) {\n      const lastAddr = this._stack[el].address;\n      lastAddr < currentAddr && (currentAddr = lastAddr);\n    }\n    if (currentAddr !== this._ramSize) {\n      const value = this._stack[String(currentAddr)].value;\n      delete this._stack[String(currentAddr)];\n      return value;\n    }\n    return null;\n  };\n\n  //set LP to next command line\n  setNextLP(): string | null {\n    return this._lineNumbers.indexOf(this._lp) + 1 >\n      this._lineNumbers.length - 1\n      ? null\n      : (this._lp = this._lineNumbers[this._lineNumbers.indexOf(this._lp) + 1]);\n  }\n\n  //PRINT(LN) to console\n  screenPrint(msg: string, ln: number): void {\n    this._screen[String(this._screenLine)] = this._screen[\n      String(this._screenLine)\n    ]\n      ? (this._screen[String(this._screenLine)] += String(msg))\n      : (this._screen[String(this._screenLine)] = String(msg));\n    while (this._screen[String(this._screenLine)].length > 80) {\n      this._screen[String(this._screenLine + 1)] =\n        this._screen[String(this._screenLine)].slice(80);\n      this._screen[String(this._screenLine)] = this._screen[\n        String(this._screenLine)\n      ].slice(0, 80);\n      this._screenLine++;\n    }\n    //if PRINTLN command then adding \\n\n    if (ln) {\n      this._screenLine++;\n    }\n  }\n\n  setVariableByName(name: string, variable: Variable): void {\n    this._variables[name] = variable;\n  }\n\n  getVariableByName(name: string): Variable | null {\n    return this._variables[name] ? this._variables[name] : null;\n  }\n\n  setLp(val: string): string | null {\n    return this._lineNumbers.indexOf(String(val)) >= 0\n      ? (this._lp = String(val))\n      : null;\n  }\n\n  //getters\n  get variables() {\n    return this._variables;\n  }\n  get stack() {\n    return this._stack;\n  }\n  get lp() {\n    return this._lp;\n  }\n  get program() {\n    return this._program;\n  }\n  get inputHistory() {\n    return this._inputHistory;\n  }\n  get ramSize() {\n    return this._ramSize;\n  }\n  get screen() {\n    return this._screen;\n  }\n  get screenLine() {\n    return this._screenLine;\n  }\n}\n","export class Variable {\n  //variable name\n  private _name: string;\n  //variable value in string format\n  private _value: string;\n  //variable address in memory\n  private _address: number;\n  //variable type (0 - number, 1 - string)\n  private _type: number;\n  //variable size\n  private _size: number;\n\n  constructor(\n    name: string,\n    value: number | string,\n    address: number,\n    type: number,\n    size: number\n  ) {\n    this._name = name;\n    this._address = address;\n    this._type = type;\n    this._size = size;\n\n    !type &&\n      typeof value === \"number\" &&\n      (value = ((value & 0xff) ^ 0x80) - 0x80);\n    this._value = String(value);\n  }\n\n  //setters\n  set name(name: string) {\n    this._name = name;\n  }\n  get name() {\n    return this._name;\n  }\n  set value(val: number | string) {\n    !this._type &&\n      typeof val === \"number\" &&\n      (val = ((val & 0xff) ^ 0x80) - 0x80);\n    this._value = String(val);\n  }\n  get value() {\n    return this._value;\n  }\n  set address(addr: number) {\n    this._address = addr;\n  }\n  get address() {\n    return this._address;\n  }\n  set type(type: number) {\n    this._type = type;\n  }\n  get type() {\n    return this._type;\n  }\n  set size(size: number) {\n    this._size = size;\n  }\n  get size() {\n    return this._size;\n  }\n}\n","export class ReturnPointer {\n  private _value: string;\n  private _address: number;\n  private _size: number;\n\n  constructor(value: string, address: number, size: number) {\n    this._value = value;\n    this._address = address;\n    this._size = size;\n  }\n\n  set value(val: string) {\n    this._value = val;\n  }\n  get value() {\n    return this._value;\n  }\n  set address(addr: number) {\n    this._address = addr;\n  }\n  get address() {\n    return this._address;\n  }\n  set size(size: number) {\n    this._size = size;\n  }\n  get size() {\n    return this._size;\n  }\n}\n","import * as msg from \"../consts/messages\";\nimport { Visualizer } from \"./visualizer\";\nimport { Task } from \"./task\";\n\nexport class Comparer {\n  _options: number[];\n\n  constructor(options: number[]) {\n    this._options = options;\n  }\n\n  compare(\n    strProg1: string,\n    strProg2: string,\n    strHist: string,\n    errConsoleName: string,\n    visualizer: Visualizer\n  ) {\n    const iHist = visualizer.getInputHistory(null, strHist);\n    const task = new Task(strProg1.toUpperCase(), null, iHist, this._options);\n    let prog: Task | null = null as unknown as Task;\n    try {\n      prog = new Task(\n        strProg2.toUpperCase(),\n        null,\n        iHist.resetInputHistory(),\n        this._options\n      );\n    } catch (e) {\n      if (\n        (e as Error).message !== msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG)\n      ) {\n        (document.getElementById(errConsoleName) as HTMLTextAreaElement).style[\n          \"color\"\n        ] = \"red\";\n        (document.getElementById(errConsoleName) as HTMLTextAreaElement).value =\n          (e as Error).message.indexOf(\n            msg.makeMsg(msg.MESSAGES.PARSE_INPUT_EMPTY_ERR)\n          ) >= 0\n            ? msg.makeMsg(msg.MESSAGES.UI_COMPARE_INPUT_ERR)\n            : msg.makeMsg(\n                msg.MESSAGES.UI_COMPARE_ERR,\n                (e as Error).message.toLowerCase()\n              );\n        return 0;\n      }\n    }\n\n    const taskHistSize = task.historySize;\n    const progHistSize = prog.historySize;\n\n    const taskScreen = task\n      .getScreenElement(taskHistSize - 1)\n      .trim()\n      .split(\"\\n\");\n    const progScreen = prog\n      .getScreenElement(progHistSize - 1)\n      .trim()\n      .split(\"\\n\");\n    const length = taskScreen.length;\n    if (length !== progScreen.length) {\n      (document.getElementById(errConsoleName) as HTMLTextAreaElement).style[\n        \"color\"\n      ] = \"red\";\n      (document.getElementById(errConsoleName) as HTMLTextAreaElement).value =\n        msg.makeMsg(msg.MESSAGES.UI_COMPARE_SCREEN_ERR);\n      return 0;\n    }\n\n    for (let cnt = 0; cnt < length; cnt++) {\n      if (taskScreen[cnt].trim() != progScreen[cnt].trim()) {\n        (document.getElementById(errConsoleName) as HTMLTextAreaElement).style[\n          \"color\"\n        ] = \"red\";\n        (document.getElementById(errConsoleName) as HTMLTextAreaElement).value =\n          msg.makeMsg(msg.MESSAGES.UI_COMPARE_SCREEN_LINE_ERR, cnt + 1);\n        return 0;\n      }\n    }\n\n    task.setIdx(taskHistSize - 1);\n    prog.setIdx(progHistSize - 1);\n\n    if (task.getRamElement(task.idx) !== prog.getRamElement(prog.idx)) {\n      (document.getElementById(errConsoleName) as HTMLTextAreaElement).style[\n        \"color\"\n      ] = \"red\";\n      (document.getElementById(errConsoleName) as HTMLTextAreaElement).value =\n        msg.makeMsg(msg.MESSAGES.UI_COMPARE_FINALLY_RAM_ERR);\n      return 0;\n    }\n\n    while (true) {\n      let hIdx = task.idx;\n      let idx;\n      for (idx = hIdx - 1; idx >= 0; idx--) {\n        if (\n          idx < taskHistSize - 1 &&\n          task.getRamElement(idx) !== task.getRamElement(idx + 1)\n        ) {\n          break;\n        }\n      }\n      idx < 0 && (idx = 0);\n      task.setIdx(idx);\n\n      hIdx = prog.idx;\n      for (idx = hIdx - 1; idx >= 0; idx--) {\n        if (\n          idx < progHistSize - 1 &&\n          prog.getRamElement(idx) !== prog.getRamElement(idx + 1)\n        ) {\n          break;\n        }\n      }\n      idx < 0 && (idx = 0);\n      prog.setIdx(idx);\n\n      if (task.getRamElement(task.idx) !== prog.getRamElement(prog.idx)) {\n        (document.getElementById(errConsoleName) as HTMLTextAreaElement).style[\n          \"color\"\n        ] = \"red\";\n        (document.getElementById(errConsoleName) as HTMLTextAreaElement).value =\n          msg.makeMsg(msg.MESSAGES.UI_COMPARE_RAM_ERR);\n        return 0;\n      }\n\n      if (!task.idx || !prog.idx) {\n        if (task.idx || prog.idx) {\n          (\n            document.getElementById(errConsoleName) as HTMLTextAreaElement\n          ).style[\"color\"] = \"red\";\n          (\n            document.getElementById(errConsoleName) as HTMLTextAreaElement\n          ).value = msg.makeMsg(msg.MESSAGES.UI_COMPARE_RAM_ERR);\n          return 0;\n        }\n        break;\n      }\n    }\n    return 1;\n  }\n}\n","import * as msg from \"../consts/messages\";\nimport * as cnst from \"../consts/const\";\nimport { InputHistory } from \"../lang/iHistory\";\nimport { Parser } from \"../lang/parser\";\nimport { Executor } from \"../lang/executor\";\nimport { Environment } from \"../lang/environment\";\nimport { Visualizer } from \"./visualizer\";\n\nexport class Task {\n  private _screenHistory: { [index: string]: string };\n  private _ramHistory: { [index: string]: string };\n  private _historySize: number;\n  private _historyIdx: number;\n\n  savedRamState: string | null;\n\n  constructor(\n    strProg: string,\n    strInputHist: string | null,\n    inputHist: InputHistory | null,\n    options: number[]\n  ) {\n    const parser = new Parser();\n    const exec = new Executor();\n\n    const visualizer = new Visualizer();\n    const inputHistory =\n      inputHist !== null\n        ? inputHist\n        : visualizer.getInputHistory(null, strInputHist as string);\n\n    const env = new Environment(256, 28, strProg.split(\"\\n\"), inputHistory);\n\n    this._screenHistory = {};\n    this._ramHistory = {};\n    this._historySize = 0;\n    this._historyIdx = 0;\n\n    let counter = 0;\n    while (true) {\n      try {\n        if (counter >= cnst.MAX_STEP_COUNT) {\n          throw new Error(\n            msg.makeMsg(msg.MESSAGES.EXE_LOOPING_MSG, cnst.MAX_STEP_COUNT)\n          );\n        }\n\n        this._screenHistory[String(this._historySize)] = visualizer.showScreen(\n          null,\n          env.screen,\n          env.screenLine,\n          25\n        );\n        this._ramHistory[String(this._historySize)] = visualizer.showRam(\n          null,\n          env.variables,\n          env.stack,\n          env.ramSize,\n          options[cnst.SIMB_SHOW_IDX],\n          options[cnst.HEX_SHOW_IDX]\n        );\n        this._historySize++;\n\n        if (\n          exec.execute(parser.parse(env.getCurrentProgramLine(), env), env) !==\n          0\n        ) {\n          if (!env.setNextLP()) {\n            throw new Error(msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG));\n          }\n        }\n        counter++;\n      } catch (e) {\n        if (\n          (e as Error).message !== msg.makeMsg(msg.MESSAGES.EXE_COMPLITED_MSG)\n        ) {\n          throw new Error((e as Error).message);\n        }\n        break;\n      }\n    }\n\n    this.savedRamState = null;\n  }\n\n  incrementIdx() {\n    if (this._historyIdx < this._historySize - 1) {\n      this._historyIdx++;\n    }\n    return this._historyIdx;\n  }\n\n  decrementIdx() {\n    if (this._historyIdx) {\n      this._historyIdx--;\n    }\n    return this._historyIdx;\n  }\n\n  showScreen(taName: string, idx: number) {\n    const textarea = document.getElementById(taName) as HTMLTextAreaElement;\n    textarea.value = this._screenHistory[String(idx)];\n  }\n\n  showRam(taName: string, lblName: string, idx: number) {\n    (\n      document.getElementById(lblName) as HTMLLabelElement\n    ).textContent = `SNAPSHOT ${idx + 1} of ${this._historySize}`;\n    const textarea = document.getElementById(taName) as HTMLTextAreaElement;\n    textarea.innerHTML = `<pre>${\n      this.savedRamState\n        ? Visualizer.prototype.ramVisualizationModify(\n            this.savedRamState,\n            (this.savedRamState = this._ramHistory[String(idx)])\n          )\n        : (this.savedRamState = this.ramHistory[String(idx)])\n    }</pre>`;\n  }\n\n  getRamElement(idx: number) {\n    return this._ramHistory[String(idx)];\n  }\n\n  getScreenElement(idx: number) {\n    return this._screenHistory[String(idx)];\n  }\n\n  setIdx(idx: number): number {\n    return (this._historyIdx = idx);\n  }\n\n  //getters\n  get historySize() {\n    return this._historySize;\n  }\n  get screenHistory() {\n    return this._screenHistory;\n  }\n  get ramHistory() {\n    return this._ramHistory;\n  }\n  get idx() {\n    return this._historyIdx;\n  }\n}\n","export const logo = `\n\n                                                                          \n  _|_|_|  _|_|_|      _|_|    _|      _|  _|_|_|      _|_|    _|      _|  \n_|        _|    _|  _|    _|    _|  _|    _|    _|  _|    _|    _|  _|    \n_|  _|_|  _|_|_|    _|_|_|_|      _|      _|_|_|    _|    _|      _|      \n_|    _|  _|    _|  _|    _|      _|      _|    _|  _|    _|    _|  _|    \n  _|_|_|  _|    _|  _|    _|      _|      _|_|_|      _|_|    _|      _|  `;\n","import * as cnst from \"../consts/const\";\n\nexport type TaskDescriptor = {\n  name: string;\n  codeHint: string;\n  testProg: string;\n  testHist: string;\n  checkHist: string;\n  storyText?: string;\n};\n\nexport type TaskList = {\n  text: TaskDescriptor[];\n  idx: number;\n};\n\nexport let tasks: TaskList = {\n  text: [\n    {\n      name: \"NOTHING TO DO\",\n      codeHint:\n        '0 PRINTLN \"SOMETHING ABOUT DOING NOTHING\"\\n10 LET A$\\n20 LET B\\n30 INPUT A$\\n40 INPUT B\\n50 PRINT \"VALUES IN MEMORY: \\'\"\\n60 PRINT A$\\n70 PRINT \"\\', \"\\n80 PRINTLN B',\n      testProg:\n        '0 PRINTLN \"SOMETHING ABOUT DOING NOTHING\"\\n10 LET A$\\n20 LET B\\n30 INPUT A$\\n40 INPUT B\\n50 PRINT \"VALUES IN MEMORY: \\'\"\\n60 PRINT A$\\n70 PRINT \"\\', \"\\n80 PRINTLN B',\n      testHist:\n        \"Math.random().toFixed(Math.random() * 7)\\n(Math.random() * 10) >>> 0\",\n      checkHist: `\"${Math.random().toFixed(Math.random() * 7)}\"\\n${\n        (Math.random() * 10) >>> 0\n      }`,\n      storyText: `/${cnst.REPO_NAME}/story0.txt`,\n    },\n    {\n      name: \"THE END\",\n      codeHint:\n        '0 REM THIS IS AN UNFINISHED VERSION OF THE GAME\\n10 REM WITHOUT CONNECTING TO THE SERVER, ONLY ONE LEVEL IS AVAILABLE\\n20 REM FOR NOW, THAT IS ALL\\n30 PRINT \"THE END\"',\n      testProg:\n        '0 REM THIS IS AN UNFINISHED VERSION OF THE GAME\\n10 REM WITHOUT CONNECTING TO THE SERVER, ONLY ONE LEVEL IS AVAILABLE\\n20 REM FOR NOW, THAT IS ALL\\n30 PRINT \"THE END\"',\n      testHist: \"\",\n      checkHist: \"\",\n      storyText: \"\",\n    },\n  ],\n  idx: 0,\n};\n\nexport const getLevelsFromServer = async () => {\n  const response = await fetch(cnst.LEVELS_SRV).catch((err) => err);\n  if (response.ok) {\n    await response.json().then((data: { contents: string | null }) => {\n      data.contents && (tasks = JSON.parse(data.contents));\n    });\n  }\n  return tasks;\n};\n","import \"../scss/reset.scss\";\nimport \"../scss/style.scss\";\nimport \"../scss/fonts.scss\";\n\nimport * as id from \"./consts/id\";\nimport { GUI } from \"./gui/main\";\nimport { getLevelsFromServer } from \"./game/taskList\";\n\nconst browserHistoryLength = history.length;\n\ngetLevelsFromServer().then((tasks) => {\n  let gui = new GUI(tasks);\n  gui.pickTheLevelScreenSetVisible();\n\n  window.addEventListener(\"popstate\", (e: Event) => {\n    if (document.getElementById(id.PICK_LEVEL_CONTAINER)) {\n      let pagesCount = history.length - browserHistoryLength;\n      pagesCount <= 0 && (pagesCount = 1);\n      history.go(-pagesCount);\n    } else {\n      gui.musicPlayer && gui.musicPlayer.pause();\n      const mainDiv = document.getElementById(\n        id.MAIN_CONTAINER\n      ) as HTMLDivElement;\n      mainDiv && (mainDiv.parentNode as HTMLElement).removeChild(mainDiv);\n      gui = new GUI(tasks);\n      gui.pickTheLevelScreenSetVisible();\n    }\n  });\n});\n"],"names":["$65nmJ","parcelRequire","InputHistory","constructor","default","this","el","_history","String","_histValCount","_currentHistElem","rslt","eval","$add4700f7e155979$export$2e2bcd8739ae039","obj","key","value","Object","defineProperty","enumerable","configurable","writable","$1PwY0","Executor","replaceOp","str","first","second","oddEven","isEven","split","map","join","changeHex","exec","forEach","hex","replace","slice","toLowerCase","calcExpression","expression","logic","print","env","trim","logicalXorFlag","splittedExpr","count","length","isBracketsArePair","throwError","lp","MESSAGES","EXE_BRACKETS_ERR","isResultString","i","j","tmpExpr","type","concat","quotesFlag","exprNoQuotes","push","EXE_QUOTES_ERR","indexOf","test","isNumberConst","allVars","filter","getVariableByName","EXE_NOT_DEFINED_ERR","isTypesAreMixed","EXE_MIXED_TYPES_ERR","idx","preffixStr","exprRslt","e","EXE_BAD_EXPR_ERR","EXE_ZERO_DIV_ERR","rsltType","Boolean","substring","$cy6T4","ExpressionResult","execute","cmd","setNextLP","Error","makeMsg","EXE_COMPLITED_MSG","cmdName","name","operand","exprResult","initValue","PARSE_LET_STR_NAME_ERR","PARST_LET_STR_RSLT_ERR","PARSE_LET_NUM_NAME_ERR","PARSE_LET_NUM_RSLT_ERR","createVar","operand1","initValue1","PARSE_DIM_STR_NAME_ERR","PARSE_DIM_NUM_NAME_ERR","exprResult1","PARSE_DIM_NUM_RSLT_ERR","arraySize","PARSE_DIM_SIZE_ERR","PARSE_DIM_ZERO_SIZE_ERR","operand2","exprResult2","idxStart","idxEnd","lastIndexOf","arrIdxExprResult","PARSE_ASSIGN_IDX_ERR","PARSE_ASSIGN_STR_NAME_ERR","PARSE_ASSIGN_STR_RSLT_ERR","PARSE_ASSIGN_NUM_NAME_ERR","PARSE_ASSIGN_NUM_RSLT_ERR","PARSE_ASSIGN_NOT_DEFINED_ERR","operand3","exprResult3","PARSE_IF_NOT_BOOL_ERR","ifElse","PARSE_IF_MANY_ELSE_ERR","$khd7x","Parser","parse","exprResult4","PARSE_GOTO_NOT_NUM_ERR","setLp","PARSE_GOTO_LINE_UNKNOWN_ERR","exprResult5","rp","PARSE_GOSUB_NOT_NUM_ERR","PARSE_GOSUB_LINE_UNKNOWN_ERR","createRP","rp1","deleteRP","PARSE_RETURN_ERR","exprResult6","PARSE_PRINT_ERR","screenPrint","operand4","histVal","inputHistory","getNextInputValue","PARSE_INPUT_EMPTY_ERR","inputResult","exprResult7","idxStart1","idxEnd1","arrIdxExprResult1","$8d59fb58e2b2667f$export$a76af8432bee6b75","$8d59fb58e2b2667f$export$af7faffe10421f14","$8d59fb58e2b2667f$export$11e37a699a9941eb","args","$8d59fb58e2b2667f$export$8bf7aba4a9e09055","line","$202509b2446ccd7d$export$6629eb483e9e60bb","_rslt","_type","$f35fd7249d3a3dc3$export$7acfa6ed01010e37","splittedStr","command","trimmedStr","CMD_END_ERR","$iThXd","Command","CMD_LET_ERR","CMD_DIM_ERR","CMD_IF_ERR","CMD_MANY_THEN_ERR","CMD_VAR_OMIT_ERR","CMD_VAR_MANY_ERR","$ff92218b9ba5fd8a$export$cc7e12c76513e857","_name","_operand","expr","_expression","$ePye1","Visualizer","showNeedTextArea","textareas","num","textareaEls","document","getElementById","style","showRam","taName","vars","stack","ramSize","simb","cellToStr","pref","suf","fromCharCode","toString","ram","Array","val","i1","address","charCodeAt","Number","el1","val1","i2","savedRamState","textarea","innerHTML","changeShowedRamState","ta","newState","ramVisualizationModify","textContent","showScreen","screen","lastScreenLine","rows","getInputHistory","inputHist","jsCode","jsCodeFlag","jsCodeLine","linesCount","esc","toUpperCase","result","addInputHistoryElement","oldState","stateLength","oldLine","newLine","lineLength","space","$ce5a8e3f87c7d490$export$28c2b0762d091ba6","$ce5a8e3f87c7d490$export$371ef37fa321884f","$ce5a8e3f87c7d490$export$327d14f24dfc4147","$ce5a8e3f87c7d490$export$df7f571374197f88","$ce5a8e3f87c7d490$export$33c85ba439312d6f","$ce5a8e3f87c7d490$export$927803ad1024d9a6","$ce5a8e3f87c7d490$export$d570339b234d455c","$ce5a8e3f87c7d490$export$99e87e8ef50b5e18","$ce5a8e3f87c7d490$export$e4f8057265c3f79b","$ce5a8e3f87c7d490$export$86e6403604fb3750","$ce5a8e3f87c7d490$export$f8d3abd93de48042","$ce5a8e3f87c7d490$export$7d3ff43980ae7480","$ce5a8e3f87c7d490$export$4512435ff607e5cb","$ce5a8e3f87c7d490$export$c8dfda774901999f","$ce5a8e3f87c7d490$export$89987ff3b751fc02","$ce5a8e3f87c7d490$export$7d2a60ae956ae38d","$ce5a8e3f87c7d490$export$e850063a4cad154e","$ce5a8e3f87c7d490$export$7f6674414833bf59","$ce5a8e3f87c7d490$export$e860b5ca0af434ba","$ce5a8e3f87c7d490$export$41326a26b7420fc4","$ce5a8e3f87c7d490$export$14a6eca02a21e574","$ce5a8e3f87c7d490$export$e877ec5f53f627d8","$ce5a8e3f87c7d490$export$4f072ecaef317163","$ce5a8e3f87c7d490$export$51237b24af63bf58","$ce5a8e3f87c7d490$export$b06b7de0d99b896a","$ce5a8e3f87c7d490$export$7279c36f79beb4fe","$ce5a8e3f87c7d490$export$aae4fe84b28311b3","$ce5a8e3f87c7d490$export$4402302c977bcdb5","$ce5a8e3f87c7d490$export$1e2a6bd1aab95f80","$ce5a8e3f87c7d490$export$89bc36a97fa49bad","$ce5a8e3f87c7d490$export$6353a413bf3804d2","$ce5a8e3f87c7d490$export$2f778a3eed7b697a","$ce5a8e3f87c7d490$export$44041cf63f5fb640","$ce5a8e3f87c7d490$export$8833ac90f2a7fa6e","$ce5a8e3f87c7d490$export$827c6c7176a3b3d0","$ce5a8e3f87c7d490$export$cce1f11fbf8e30ba","$ce5a8e3f87c7d490$export$1d7ddb5dc30f8d3e","$ce5a8e3f87c7d490$export$388ca33b14040753","$ce5a8e3f87c7d490$export$67742940583f4620","$ce5a8e3f87c7d490$export$42d79bb441c4a097","$ce5a8e3f87c7d490$export$8f7ca19bd3fc4916","$ce5a8e3f87c7d490$export$7d98edd8b168f415","$ce5a8e3f87c7d490$export$1c9f6cd1e9080c86","$ce5a8e3f87c7d490$export$36fa8892e3ea7758","$80a7185f1b12fcf6$export$877d2e60ed14687b","$80a7185f1b12fcf6$export$bffd1448e7139fbc","$80a7185f1b12fcf6$export$23b5b677daa231ef","$80a7185f1b12fcf6$export$f86d3e0119f96c79","$80a7185f1b12fcf6$export$1618d19aa3965a9f","$80a7185f1b12fcf6$export$8d8c49e53096b872","$80a7185f1b12fcf6$export$89c1c57e8499d6c7","$80a7185f1b12fcf6$export$a45ba997d9dbcce4","$80a7185f1b12fcf6$export$c0a30c39999311f7","$80a7185f1b12fcf6$export$b6fa0860f8a92b83","$80a7185f1b12fcf6$export$d1869ece8de7139b","$80a7185f1b12fcf6$export$9a6340af356ed304","$80a7185f1b12fcf6$export$94778791bcef6abb","$80a7185f1b12fcf6$export$d4543a7e4d626237","$80a7185f1b12fcf6$export$8c80b3bf495394d4","$80a7185f1b12fcf6$export$8a505e3c5489ae8c","$80a7185f1b12fcf6$export$a7cdc16ec1450e3e","$80a7185f1b12fcf6$export$ca85d078caf418f6","$80a7185f1b12fcf6$export$834d70e3172927f4","$80a7185f1b12fcf6$export$67a549e2c7f2e462","$80a7185f1b12fcf6$export$93eb3b95c3a0bcb7","$80a7185f1b12fcf6$export$da497357ccbe0437","$80a7185f1b12fcf6$export$79e7edab2c91a3eb","encodeURIComponent","Math","random","$7f53380b631b56b4$export$97d4536af689582","$7f53380b631b56b4$export$df7f571374197f88","$7f53380b631b56b4$export$28c2b0762d091ba6","$7f53380b631b56b4$export$2bd39f7cd5c2dfd0","$7f53380b631b56b4$export$b4303eb4acc0939c","$7f53380b631b56b4$export$2f846d0b8e98d457","$7f53380b631b56b4$export$89987ff3b751fc02","$7f53380b631b56b4$export$739d7e89b967f2dd","$7f53380b631b56b4$export$be032b39dd2ffca","$7f53380b631b56b4$export$e877ec5f53f627d8","$7f53380b631b56b4$export$a66d8fbc72902fdd","$7f53380b631b56b4$export$da32308f184f11ff","$7f53380b631b56b4$export$3d889e8fe3c778ba","$7f53380b631b56b4$export$5857ac6067d7289c","$7f53380b631b56b4$export$da4a1618017e69fe","$7f53380b631b56b4$export$adf3855dedd99b8a","$7f53380b631b56b4$export$24fad058d987aa5a","$7f53380b631b56b4$export$e3aab27f14e3cd72","$7f53380b631b56b4$export$89bc36a97fa49bad","$7f53380b631b56b4$export$f3de5bafb7b912c4","$7f53380b631b56b4$export$bb011b7beb26e088","$7f53380b631b56b4$export$59f8bc2c457f6640","$7f53380b631b56b4$export$766be7ce97dfe087","$7f53380b631b56b4$export$91a11c9ae2ab6d17","$7f53380b631b56b4$export$420fa75a7eb1391f","$7f53380b631b56b4$export$a87eed22e00d1a5e","$7f53380b631b56b4$export$c1c7780a015f390a","$7f53380b631b56b4$export$1992e2393aaa5cbd","$7f53380b631b56b4$export$83f327ecf80c6a68","$7d5af068788ac69a$export$22a200212aad8f21","$7d5af068788ac69a$export$29bddfcfdd53b1b7","$7d5af068788ac69a$export$ccb819485c1e3635","$7d5af068788ac69a$export$a6215877344e6cf2","$7d5af068788ac69a$export$d420aa72da10fa0d","$7d5af068788ac69a$export$58a4c72a47ed0bcc","$7d5af068788ac69a$export$1dc4f57ec03f45e1","$7d5af068788ac69a$export$36d7489e1c599971","$7d5af068788ac69a$export$463c1b414460781b","$7d5af068788ac69a$export$70396a4684d5bc29","$7d5af068788ac69a$export$6d11dbf839f24368","$7d5af068788ac69a$export$aee13aa4287f083c","$7d5af068788ac69a$export$84d5ea0c27b86d6a","$7d5af068788ac69a$export$59d9e6b4b6c8c134","$7d5af068788ac69a$export$23ebaa847a9e7ca0","$7d5af068788ac69a$export$a85b176b3286602a","$7d5af068788ac69a$export$30c9633a5276b9d5","$7d5af068788ac69a$export$bfb3b07968cebda5","$7d5af068788ac69a$export$88be12b294b35e7e","$7d5af068788ac69a$export$faeb9c0db3590d79","$7d5af068788ac69a$export$c27f1348b97b232f","$7d5af068788ac69a$export$596f39e58e939f82","$7d5af068788ac69a$export$739c5e5a84470ae4","$7d5af068788ac69a$export$73e0d68c55357a70","$7d5af068788ac69a$export$ecae3567a5218b0e","$7d5af068788ac69a$export$4ff45f19ec32a23c","$7d5af068788ac69a$export$6a15a4b6ace72b5e","$7d5af068788ac69a$export$d968c2bb3c5580b9","$7d5af068788ac69a$export$5f32bf0e6d37f3f8","$7d5af068788ac69a$export$fff1ca96c761d334","$7d5af068788ac69a$export$7103f248959ba22","$7d5af068788ac69a$export$ff5598c90fe4f815","$7d5af068788ac69a$export$4478013e427d4e58","$7d5af068788ac69a$export$d80be2b029b6d32c","$7d5af068788ac69a$export$aacf5cea0bbeb97c","$7d5af068788ac69a$export$b7961b76be0d964","$7d5af068788ac69a$export$10e1b42effe95014","$7d5af068788ac69a$export$9328b265a347c2a5","$7d5af068788ac69a$export$a7022fc780a3040","$7d5af068788ac69a$export$66289981ff9ad37e","$7d5af068788ac69a$export$73a4f43b362d677f","$7d5af068788ac69a$export$f42f7a16f2f40314","$7d5af068788ac69a$export$15d7a7c547d15fb9","$7d5af068788ac69a$export$ca3320226db72958","$7d5af068788ac69a$export$66bbcc3010c5ffa4","$7d5af068788ac69a$export$522da633828bd04","$7d5af068788ac69a$export$560f2f9879fee143","$7d5af068788ac69a$export$2c049e9d77233702","$7d5af068788ac69a$export$775b8769a9a89649","$7d5af068788ac69a$export$667bc830402fc11d","$7d5af068788ac69a$export$ed7c44cf3172b3da","$7d5af068788ac69a$export$5b1a71734988ec72","$7d5af068788ac69a$export$909b40b69f807fbd","$869c3363dee88979$export$c867a5c9595a1350","_value","addr","_address","size","_size","$63221d9f48226db7$export$6fcb28195bf644fe","$05d4a55d6b93b564$export$7dc6752a22ab011a","getCurrentProgramLine","_program","_lineNumbers","_lp","getEmptyHeapAddr","currentAddr","_variables","lastAddr","_currentStackAddr","_currentHeapAddr","_varCount","VAR_TOO_MANY_ERR","VAR_MEMORY_FULL_ERR","VAR_DEFINED_ERR","variable","getEmptyStackAddr","_ramSize","_stack","VAR_POINTER_ERR","msg","ln","_screen","_screenLine","setVariableByName","variables","program","_inputHistory","screenLine","varCount","IDE_NA","emptyFlag","IDE_SEMICOLON_ERR","number","IDE_WRONG_NUMBER_ERR","IDE_NEGATIVE_NUMBER_ERR","prev","IDE_UNSEQUENTAL_NUMBER_ERR","IDE_EMPTY_CODE_ERR","$5bc3089201490d9c$export$3b8d5973dd95294d","run","counter","_exec","_parser","_env","EXE_LOOPING_MSG","step","_consoleId","iHist","consoleId","$lvXTG","$d17e34ebfdec428f$export$2dea7024bcdd7731","incrementIdx","_historyIdx","_historySize","decrementIdx","_screenHistory","lblName","$6AMVq","prototype","_ramHistory","ramHistory","getRamElement","getScreenElement","setIdx","historySize","screenHistory","strProg","strInputHist","options","parser","visualizer","message","$c52f384c89afc0ad$export$6f7eded1b7c5be2f","compare","strProg1","strProg2","strHist","errConsoleName","task","_options","prog","resetInputHistory","UI_COMPARE_INPUT_ERR","UI_COMPARE_ERR","taskHistSize","progHistSize","taskScreen","progScreen","UI_COMPARE_SCREEN_ERR","cnt","UI_COMPARE_SCREEN_LINE_ERR","UI_COMPARE_FINALLY_RAM_ERR","hIdx","UI_COMPARE_RAM_ERR","$11ca10ccd29a9c5d$export$db3c28d99448dcff","$ac70ea6e92c6c6bc$export$983832d820c96993","pickTheLevelScreenSetVisible","curLevel","window","localStorage","getItem","_tasks","text","history","pushState","logoContainer","createElement","id","classList","add","pickLevelContainer","className","querySelector","appendChild","sel","addEventListener","currentTarget","opt","UI_PICK_THE_LEVEL","setAttribute","startGame","getAttribute","removeChild","btn","UI_GO_TO_THE_LEVEL","hideStoryText","_programRunner","_visualizer","_testProg","testProg","_testHist","testHist","_checkHist","checkHist","_task","createIdeGui","codeHint","storyText","src","dispatchEvent","MouseEvent","changeAllBtnsHelpStrings","visible","btnMOver","helpString","lbl","btnMOut","allBtns","querySelectorAll","onmouseover","onmouseout","cols","rows1","rows2","rows3","codeStr","mainDiv","parentNode","tareaIDs","readOnly","tabIndex","btnNames","btnIDs","btnHelp","btns","btnsContainer","btnsDebugContainer","click","e1","availWidth","UI_CONGRATULATIONS_MSG","oldLevel","newLevel","setItem","i3","optionsContainer","labelTexts","labels","cbxIds","cbxs","i4","cbxContainer","ideContainer","menuBar","optSaveMOver","optSaveMOut","optionsWarningLbl","optionsBtn","btnCaption","checked","helpBtn","helpBtn1","removeEventListener","remove","JSON","stringify","taskContainer","ideContainer1","taskContainer1","langBtn","helpPage","onload","contentWindow","body","helpScreen","taContainer1","taContainer2","clientWidth","clientHeight","taskTareaIDs","taskTextareas","i5","taskBtnsContainer","taskBtnNames","taskBtnIDs","taskBtnHelp","taskBtns","i6","last","i7","taskLabel","_musicPlayer","play","pause","Audio","loop","musicPlayer","tasks","$59ed6a7ec7b9b171$export$7191f9b9098a3ea4","toFixed","$59ed6a7ec7b9b171$export$82740b02119cf09d","async","response","fetch","catch","err","ok","json","then","data","contents","$df131ed1f7829f58$var$browserHistoryLength","gui","pagesCount","go"],"version":3,"file":"index.be1774ac.js.map"}